{"version":3,"sources":["firebase/index.js","components/LoginView.js","context/index.js","components/Camera.js","components/Editor.js","components/PreviewView.js","components/CameraView.js","components/NotesView.js","components/Showcase.js","App.js","index.js"],"names":["firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","LoginViewWrapper","styled","div","LoginButton","button","Input","input","LoginView","handleLoginWithGoogle","a","provider","auth","GoogleAuthProvider","signInWithPopup","alert","message","handleAnnonymousLogin","signInAnonymously","placeholder","onClick","LoginContext","createContext","CameraWrapper","Video","video","Button","Camera","onSnap","useRef","stream","useContext","useEffect","current","srcObject","playsInline","autoPlay","ref","photo","c","document","createElement","height","window","innerHeight","width","innerWidth","getContext","drawImage","toDataURL","getImage","img","src","EditorWrapper","EditorControl","Editor","image","onProceed","onCancel","imgRef","useState","x","y","unit","crop","setCrop","completedCrop","setCompletedCrop","croppedImage","setCroppedImage","canvas","scaleX","naturalWidth","scaleY","naturalHeight","ctx","pixelRatio","devicePixelRatio","setTransform","imageSmoothingQuality","onImageLoaded","onChange","onComplete","PreviewImage","PreviewWrapper","Icon","Control","InputsHolder","NameInput","LoadingIndicator","PreviewView","onRetake","onShowEditor","onImageSave","isSaving","wrapper","tValue","setTvalue","noteName","setNoteName","style","transform","value","e","currentTarget","setTimeout","NavigateBefore","Edit","NavigateNext","CameraViewWrapper","HideCamera","db","database","CameraView","onCameraHide","showPreview","setShowPreview","setImage","showEditor","setShowEditor","data","setData","setIsSaving","userId","uid","ArrowBack","imageUid","uuiv4","imgUrl","imagesRef","imageData","name","set","NotesContainer","NoteName","p","Note","NoteImage","Svg","svg","Circle","circle","NotesView","showLightbox","setShowLighbox","lightboxData","setLightboxData","setImageData","isLoading","setIsLoading","on","snap","val","console","log","viewBox","xmlns","fill","strokeWidth","strokeLinecap","cx","cy","r","map","d","large","medium","hideDownload","alt","showRotate","onClose","Wrapper","ShowcaseWrapper","HeaderContainer","SiteName","h3","HeaderMeta","IconWrapper","Menu","MenuItem","TakePicture","CircledImage","Showcase","onUserLogOut","user","showCamera","setShowCamera","animeDone","setAnimeDone","refresh","photoURL","Search","ExitToApp","CameraAlt","AppWrapper","App","setUser","setStream","navigator","mediaDevices","enumerateDevices","length","facingMode","getUserMedia","aspectRatio","JSON","stringify","onAuthStateChanged","Provider","signOut","then","ReactDOM","render","StrictMode","getElementById"],"mappings":"yOAUAA,IAASC,cATM,CACbC,OAAQ,0CACRC,WAAY,oCACZC,YAAa,wDACbC,UAAW,oBACXC,cAAe,gCACfC,kBAAmB,eACnBC,MAAO,8CAGMR,I,4EAAAA,IAAf,E,gBCPMS,GAAmBC,IAAOC,IAAV,qLAShBC,GAAcF,IAAOG,OAAV,gTAcXC,GAAQJ,IAAOK,MAAV,+NAuCIC,GA1BG,WAChB,IAAMC,EAAqB,uCAAG,4BAAAC,EAAA,sEAEpBC,EAAW,IAAInB,EAASoB,KAAKC,mBAFT,SAGpBrB,EAASoB,OAAOE,gBAAgBH,GAHZ,sDAK1BI,MAAM,KAAMC,SALc,wDAAH,qDAQrBC,EAAqB,uCAAG,sBAAAP,EAAA,sEACtBlB,EAASoB,OAAOM,oBADM,2CAAH,qDAG3B,OACE,gBAACjB,GAAD,WACE,eAACK,GAAD,CAAOa,YAAY,wBACnB,eAACb,GAAD,CAAOa,YAAY,wBACnB,eAACf,GAAD,oBACA,eAACA,GAAD,CAAagB,QAASX,EAAtB,+BAGA,eAACL,GAAD,CAAagB,QAASH,EAAtB,oCC1DSI,GADMC,wBAAc,MCG7BC,GAAgBrB,IAAOC,IAAV,8DAIbqB,GAAQtB,IAAOuB,MAAV,2JASLC,GAASxB,IAAOG,OAAV,4UAiDGsB,GA9BA,SAAC,GAAgB,IAAdC,EAAa,EAAbA,OACVH,EAAQI,iBAAO,MACbC,EAAWC,qBAAWV,IAAtBS,OASRE,qBAAU,WACRP,EAAMQ,QAAQC,UAAYJ,IACzB,CAACA,IAOJ,OACE,gBAACP,GAAD,WACE,eAACC,GAAD,CAAOW,aAAW,EAACC,UAAQ,EAACC,IAAKZ,IACjC,eAACC,GAAD,CAAQN,QATC,WACX,IAAMkB,EAZS,SAACb,GAChB,IAAMc,EAAIC,SAASC,cAAc,UAKjC,OAJAF,EAAEG,OAASC,OAAOC,YAClBL,EAAEM,MAAQF,OAAOG,WACLP,EAAEQ,WAAW,MACrBC,UAAUvB,EAAO,EAAG,EAAGc,EAAEM,MAAON,EAAEG,QAC/BH,EAAEU,YAMKC,CAASzB,EAAMQ,SACvBkB,EAAMX,SAASC,cAAc,OACnCU,EAAIC,IAAMd,EACVV,GAAUA,EAAO,CAAEc,OAAQS,EAAIT,OAAQG,MAAOM,EAAIN,MAAOP,iB,oBCjDvDe,I,MAAgBnD,IAAOC,IAAV,iHAObuB,GAASxB,IAAOG,OAAV,6MAYNiD,GAAgBpD,IAAOC,IAAV,+MAmFJoD,GAxEA,SAAC,GAAoC,IAAlCC,EAAiC,EAAjCA,MAAOC,EAA0B,EAA1BA,UAAWC,EAAe,EAAfA,SAC5BC,EAAS9B,iBAAO,MAD2B,EAEzB+B,mBAAS,CAC/BC,EAAG,GACHC,EAAG,GACHC,KAAM,IACNlB,MAAO,GACPH,OAAQ,KAPuC,mBAE1CsB,EAF0C,KAEpCC,EAFoC,OASPL,mBAAS,MATF,mBAS1CM,EAT0C,KAS3BC,EAT2B,OAUTP,mBAAS,MAVA,mBAU1CQ,EAV0C,KAU5BC,EAV4B,KAmDjD,OAjCArC,qBAAU,WACR,GAAKkC,GAAkBP,EAAO1B,QAA9B,CAGA,IAAMqC,EAAS9B,SAASC,cAAc,UAChCe,EAAQG,EAAO1B,QACf+B,EAAOE,EAEPK,EAASf,EAAMgB,aAAehB,EAAMX,MACpC4B,EAASjB,EAAMkB,cAAgBlB,EAAMd,OACrCiC,EAAML,EAAOvB,WAAW,MACxB6B,EAAajC,OAAOkC,iBAE1BP,EAAOzB,MAAQmB,EAAKnB,MAAQ+B,EAC5BN,EAAO5B,OAASsB,EAAKtB,OAASkC,EAE9BD,EAAIG,aAAaF,EAAY,EAAG,EAAGA,EAAY,EAAG,GAClDD,EAAII,sBAAwB,OAE5BJ,EAAI3B,UACFQ,EACAQ,EAAKH,EAAIU,EACTP,EAAKF,EAAIW,EACTT,EAAKnB,MAAQ0B,EACbP,EAAKtB,OAAS+B,EACd,EACA,EACAT,EAAKnB,MACLmB,EAAKtB,QAEP,IAAM0B,EAAeE,EAAOrB,YAC5BoB,EAAgBD,MACf,CAACF,IAEF,gBAACb,GAAD,WACE,eAAC,KAAD,CACED,IAAKI,EACLwB,cA5CkB,SAAC7B,GACvBQ,EAAO1B,QAAUkB,GA4Cba,KAAMA,EACNiB,SAAU,SAAC1C,GAAD,OAAO0B,EAAQ1B,IACzB2C,WAAY,SAAC3C,GAAD,OAAO4B,EAAiB5B,MAEtC,gBAACe,GAAD,WACE,eAAC,GAAD,CAAQlC,QA/CQ,WACFqC,EAAdW,GACWZ,IA6CX,qBACA,eAAC,GAAD,CAAQpC,QAASsC,EAAjB,2B,oCC9FFyB,GAAejF,IAAOiD,IAAV,wFAMZiC,GAAiBlF,IAAOC,IAAV,yKASdkF,GAAOnF,IAAOC,IAAV,4QAeJmF,GAAUpF,IAAOC,IAAV,+MAWPoF,GAAerF,IAAOC,IAAV,sQAaZqF,GAAYtF,IAAOK,MAAV,icAsBTkF,GAAmBvF,IAAOC,IAAV,wUA0DPuF,GA1CK,SAAC,GAA8D,IAA5DlC,EAA2D,EAA3DA,MAAOmC,EAAoD,EAApDA,SAAUC,EAA0C,EAA1CA,aAAcC,EAA4B,EAA5BA,YAAaC,EAAe,EAAfA,SAC3DC,EAAUlE,iBAAO,MADyD,EAEpD+B,mBAAS,KAF2C,mBAEzEoC,EAFyE,KAEjEC,EAFiE,OAGhDrC,mBAAS,IAHuC,mBAGzEsC,EAHyE,KAG/DC,EAH+D,KAOhF,OAHAnE,qBAAU,kBAAO+D,EAAQ9D,QAAQmE,MAAMC,UAAtB,oBAA+CL,EAA/C,OAA2D,CAC1EA,IAGA,gBAACZ,GAAD,CAAgB/C,IAAK0D,EAArB,UACGD,GAAY,eAACL,GAAD,wBACb,eAACN,GAAD,CAAc/B,IAAKI,IACnB,eAAC+B,GAAD,UACE,eAACC,GAAD,CACEc,MAAOJ,EACPjB,SAAU,SAACsB,GAAD,OAAOJ,EAAYI,EAAEC,cAAcF,QAC7CnF,YAAY,2BAGhB,gBAACmE,GAAD,WAEE,eAACD,GAAD,CACEjE,QAAS,WACP6E,EAAU,SACVQ,YAAW,WACTd,MACC,MALP,SAQE,eAACe,GAAA,EAAD,MAGF,eAACrB,GAAD,CAAMjE,QAASwE,EAAf,SACE,eAACe,GAAA,EAAD,MAGF,eAACtB,GAAD,CAAMjE,QAAS,kBAAMyE,EAAYK,IAAjC,SACE,eAACU,GAAA,EAAD,a,SC1HJC,GAAoB3G,IAAOC,IAAV,gLASjB2G,GAAa5G,IAAOC,IAAV,kPAeV4G,GAAKvH,EAASwH,WAkFLC,GAhFI,SAAC,GAA8B,IAA5BC,EAA2B,EAA3BA,aACdnB,GADyC,EAAbjE,OAClBD,iBAAO,OADwB,EAEnB+B,mBAAS,KAFU,mBAExCoC,EAFwC,KAEhCC,EAFgC,OAGTrC,oBAAS,GAHA,mBAGxCuD,EAHwC,KAG3BC,EAH2B,OAIrBxD,mBAAS,MAJY,mBAIxCJ,EAJwC,KAIjC6D,EAJiC,OAKXzD,oBAAS,GALE,mBAKxC0D,EALwC,KAK5BC,EAL4B,OAMvB3D,mBAAS,MANc,mBAMxC4D,EANwC,KAMlCC,EANkC,OAOf7D,oBAAS,GAPM,mBAOxCkC,EAPwC,KAO9B4B,EAP8B,KAQlCC,EAAW5F,qBAAWV,IAA3BuG,IAuBR5F,qBAAU,WACR+D,EAAQ9D,QAAQmE,MAAMC,UAAtB,qBAAgDL,EAAhD,OACC,CAACA,IAgBJ,OACE,gBAACa,GAAD,CAAmBxE,IAAK0D,EAAxB,UACE,eAAC,GAAD,CAAQnE,OA1CO,SAAC4F,GAClBH,EAASG,EAAKlF,OACdmF,EAAQD,GACRJ,GAAe,MAwCb,eAACN,GAAD,CACE1F,QAAS,WACP6E,EAAU,SACViB,KAHJ,SAME,eAACW,GAAA,EAAD,MAEDV,GACC,eAAC,GAAD,CACErB,SAAUA,EACVtC,MAAOA,EACPmC,SAlDa,WACnByB,GAAe,IAkDTxB,aA3CiB,WACvB2B,GAAc,GACdH,GAAe,GACfC,EAASG,EAAKlF,QAyCRuD,YAhCgB,SAACK,GACvB,IAAM4B,EAAWC,eACXC,EAAM,iBAAaL,EAAb,YAAuBG,GAC7BG,EAAYlB,GAAG1E,IAAI2F,GACnBE,EAAY,CAChBC,KAAMjC,EACN1C,MAAOA,EACPoE,IAAKE,GAEPJ,GAAY,GACZO,EAAUG,IAAIF,GAAW,WACvBhB,IACAQ,GAAY,SAuBXJ,GACC,eAAC,GAAD,CACE9D,MAAOA,EACPC,UAvDgB,SAACW,GACvBiD,EAASjD,GACTmD,GAAc,GACdH,GAAe,IAqDT1D,SA9CmB,WACzB6D,GAAc,GACdH,GAAe,U,kBC3DbiB,GAAiBnI,IAAOC,IAAV,+HAOdmI,GAAWpI,IAAOqI,EAAV,iNAURC,GAAOtI,IAAOC,IAAV,0NAUEmI,IAING,GAAYvI,IAAOiD,IAAV,uIAOTuF,GAAMxI,IAAOyI,IAAV,qKASHC,GAAS1I,IAAO2I,OAAV,4gBA0BN9B,GAAKvH,EAASwH,WA2EL8B,GAzEG,WAAO,IAAD,EACiBlF,oBAAS,GAD1B,mBACfmF,EADe,KACDC,EADC,OAEkBpF,mBAAS,MAF3B,mBAEfqF,EAFe,KAEDC,EAFC,OAGYtF,mBAAS,IAHrB,mBAGfsE,EAHe,KAGJiB,EAHI,OAIYvF,oBAAS,GAJrB,mBAIfwF,EAJe,KAIJC,EAJI,KAKdzB,EAAQ7F,qBAAWV,IAAnBuG,IAiCR,OAVA5F,qBAAU,WACR,IAAMiG,EAAYlB,GAAG1E,IAAH,iBAAiBuF,IACnCuB,EAAa,IACblB,EAAUqB,GAAG,eAAe,SAACC,GAC3B,IAAMC,EAAMD,EAAKC,MACjBL,GAAa,SAAA3B,GAAI,6BAAQA,GAAR,CAAcgC,OAC/BC,QAAQC,IAAIF,GACZH,GAAa,QAEd,CAACzB,IAEF,gBAACS,GAAD,WACGe,GACC,eAACV,GAAD,CAAKiB,QAAQ,YAAYC,MAAM,6BAA/B,SACE,eAAChB,GAAD,CACEiB,KAAK,OACLC,YAAY,IACZC,cAAc,QACdC,GAAG,KACHC,GAAG,KACHC,EAAE,SAIPhC,IACEkB,GACDlB,EAAUiC,KAAI,SAACC,GAAD,OACZ,gBAAC5B,GAAD,CAAMpH,QAAS,kBAjDKoG,EAiDoB4C,EAhD9CpB,GAAgBD,QAChBG,EAAgB1B,GAFS,IAACA,GAiDpB,UACE,eAACiB,GAAD,CAAWrF,IAAKgH,GAAKA,EAAE5G,QACvB,eAAC8E,GAAD,UAAW8B,GAAKA,EAAEjC,aAGvBY,GAAgBE,GACf,eAAC,KAAD,CACEoB,MAAOpB,EAAazF,MACpB8G,OAAQrB,EAAazF,MACrB+G,cAAc,EACdC,IAAKvB,EAAad,KAClBsC,YAAY,EACZC,QAzDa,WACnB1B,GAAgBD,U,2BCnFd4B,GAAUzK,IAAOC,IAAV,yGAMPyK,GAAkB1K,IAAOC,IAAV,sMAUf0K,GAAkB3K,IAAOC,IAAV,0TAcf2K,GAAW5K,IAAO6K,GAAV,+CAGRC,GAAa9K,IAAOC,IAAV,sEAIV8K,GAAc/K,IAAOC,IAAV,yFAgBX+K,IAXShL,IAAOG,OAAV,2LAWCH,IAAOC,IAAV,yJAQJgL,GAAWjL,IAAOC,IAAV,qOAYRiL,GAAclL,IAAOC,IAAV,kSAeXkL,GAAenL,IAAOiD,IAAV,6IAoFHmI,IA3ESpL,IAAOC,IAAV,qFAKDD,IAAOK,MAAV,oPAcA,SAAC,GAAsB,IAApBgL,EAAmB,EAAnBA,aACZC,EAAOzJ,qBAAWV,IADa,EAEDuC,oBAAS,GAFR,mBAE9B6H,EAF8B,KAElBC,EAFkB,OAGH9H,oBAAS,GAHN,mBAG9B+H,EAH8B,KAGnBC,EAHmB,KAcrC,OACE,gBAACjB,GAAD,WACGc,GAAc,eAAC,GAAD,CAAYvE,aATN,SAAC2E,GACxBD,GAAa,GACbnF,YAAW,WACTiF,GAAeD,KACd,SAMCE,GACA,gBAACf,GAAD,WACE,gBAACC,GAAD,WACE,eAACC,GAAD,0BACA,gBAACI,GAAD,WACE,eAACC,GAAD,qBACA,eAACA,GAAD,sBACA,eAACA,GAAD,mBACA,eAACA,GAAD,wBACA,eAACA,GAAD,sBACA,eAACA,GAAD,sBACA,eAACA,GAAD,sBAEF,gBAACH,GAAD,WACE,eAACK,GAAD,CAAcjI,IAAKoI,GAAQA,EAAKM,WAChC,eAACb,GAAD,UACE,eAACc,GAAA,EAAD,MAEF,eAACd,GAAD,CAAa7J,QAASmK,EAAtB,SACE,eAACS,GAAA,EAAD,YAQN,eAAC,GAAD,IACA,eAACZ,GAAD,CAAahK,QAzCK,WACxBsK,GAAeD,IAwCT,SACE,eAACQ,GAAA,EAAD,cCpKNC,GAAahM,IAAOC,IAAV,0BA4DDgM,GA3DH,WAAO,IAAD,EACQvI,mBAAS,MADjB,mBACT4H,EADS,KACHY,EADG,OAEYxI,mBAAS,MAFrB,mBAET9B,EAFS,KAEDuK,EAFC,KA8ChB,OA/BCrK,qBAAU,WACT,sBAAC,8BAAAtB,EAAA,+EAGmB4L,UAAUC,aAAaC,mBAH1C,8BAG8DC,OAH9D,8BAGyE,GAHzE,sBAIS,OAJT,6BAKS,cALT,eAESC,EAFT,eAMwBJ,UAAUC,aAAaI,aAAa,CACvDlL,MAAO,CACLiL,aACAE,YAAa,GAAK,KATzB,QAMS9K,EANT,OAYGuK,EAAUvK,GAZb,kDAcG2H,QAAQC,IAAImD,KAAKC,UAAL,OAdf,yDAAD,KAiBC,IACH9K,qBAAU,WACRxC,EAASoB,OAAOmM,oBAAmB,SAACvB,GAC9BA,GAEFY,EAAQZ,GACR/B,QAAQC,IAAI8B,IAGZY,EAAQ,WAGX,IAED,eAAC,GAAaY,SAAd,CAAuB1G,MAAK,2BACvBkF,GADuB,IAE1B1J,WAFF,SAIE,gBAACoK,GAAD,YACIV,GAAQ,eAAC,GAAD,IACTA,GAAQ1J,GAAU,eAAC,GAAD,CAAUyJ,aAlDd,WACnB/L,EACGoB,OACAqM,UACAC,MAAK,WACJd,EAAQ,kBCVhBe,IAASC,OACP,eAAC,IAAMC,WAAP,UACE,eAAC,GAAD,MAEF7K,SAAS8K,eAAe,W","file":"static/js/main.00f11da0.chunk.js","sourcesContent":["import firebase from \"firebase\";\r\nconst config = {\r\n  apiKey: \"AIzaSyAZhvmZYFIEwZxtqf6E_vmGmNkZF_oUJAE\",\r\n  authDomain: \"note-keeper-f1de8.firebaseapp.com\",\r\n  databaseURL: \"https://note-keeper-f1de8-default-rtdb.firebaseio.com\",\r\n  projectId: \"note-keeper-f1de8\",\r\n  storageBucket: \"note-keeper-f1de8.appspot.com\",\r\n  messagingSenderId: \"722421639421\",\r\n  appId: \"1:722421639421:web:c68fc9ec78af8a360c7694\",\r\n};\r\nfirebase.initializeApp(config);\r\nexport default firebase;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport firebase from \"../firebase\";\r\nimport \"firebase/auth\";\r\nconst LoginViewWrapper = styled.div`\r\n  height: 100vh;\r\n  width: 100vw;\r\n  background: #eee;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\nconst LoginButton = styled.button`\r\n  height: 35px;\r\n  width: 200px;\r\n  background: #1ecbe1;\r\n  color: #fff;\r\n  cursor: pointer;\r\n  border: none;\r\n  margin-bottom: 5px;\r\n  border-radius: 20px;\r\n  &:hover {\r\n    box-shadow: 0 5px 10px rgba(154, 160, 185, 0.05),\r\n      0 15px 40px rgba(166, 173, 201, 0.2);\r\n  }\r\n`;\r\nconst Input = styled.input`\r\n  height: 35px;\r\n  width: 30vw;\r\n  min-width: 200px;\r\n  background: #fff;\r\n  border-radius: 20px;\r\n  border: none;\r\n  padding: 15px;\r\n  margin: 0 0 10px 0;\r\n  &:focus {\r\n    outline: none;\r\n  }\r\n`;\r\nconst LoginView = () => {\r\n  const handleLoginWithGoogle = async () => {\r\n    try {\r\n      const provider = new firebase.auth.GoogleAuthProvider();\r\n      await firebase.auth().signInWithPopup(provider);\r\n    } catch (error) {\r\n      alert(error.message);\r\n    }\r\n  };\r\n  const handleAnnonymousLogin = async () => {\r\n    await firebase.auth().signInAnonymously();\r\n  };\r\n  return (\r\n    <LoginViewWrapper>\r\n      <Input placeholder=\"Enter your username\" />\r\n      <Input placeholder=\"Enter your password\" />\r\n      <LoginButton>Login</LoginButton>\r\n      <LoginButton onClick={handleLoginWithGoogle}>\r\n        Login With Google\r\n      </LoginButton>\r\n      <LoginButton onClick={handleAnnonymousLogin}>\r\n        Login Annonymously\r\n      </LoginButton>\r\n    </LoginViewWrapper>\r\n  );\r\n};\r\nexport default LoginView;\r\n","import { createContext } from \"react\";\r\nconst LoginContext = createContext(null);\r\nexport default LoginContext;","import React, { useState, useRef, useEffect, useContext } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport styled from \"styled-components\";\r\nimport LoginContext from \"../context\";\r\nconst CameraWrapper = styled.div`\r\n  height: 100%;\r\n  width: 100vw;\r\n`;\r\nconst Video = styled.video`\r\n  postition: absolute;\r\n  height: 100%;\r\n  width: 100vw;\r\n  left: 0;\r\n  top: 0;\r\n  object-fit: fill;\r\n  pointer-events: none;\r\n`;\r\nconst Button = styled.button`\r\n  height: 50px;\r\n  width: 50px;\r\n  border-radius: 50%;\r\n  background: #fff;\r\n  position: absolute;\r\n  bottom: 20px;\r\n  left: 50%;\r\n  transform: translateX(-50%);\r\n  cursor: pointer;\r\n  border: none;\r\n  &:focus {\r\n    outline: none;\r\n  }\r\n  &:hover {\r\n    border: 5px solid gray;\r\n    opacity: 0.8;\r\n  }\r\n`;\r\nconst Camera = ({ onSnap }) => {\r\n  const video = useRef(null);\r\n  const { stream } = useContext(LoginContext);\r\n  const getImage = (video) => {\r\n    const c = document.createElement(\"canvas\");\r\n    c.height = window.innerHeight;\r\n    c.width = window.innerWidth;\r\n    const ctx = c.getContext(\"2d\");\r\n    ctx.drawImage(video, 0, 0, c.width, c.height);\r\n    return c.toDataURL();\r\n  };\r\n  useEffect(() => {\r\n    video.current.srcObject = stream;\r\n  }, [stream]);\r\n  const snap = () => {\r\n    const photo = getImage(video.current);\r\n    const img = document.createElement(\"img\");\r\n    img.src = photo;\r\n    onSnap && onSnap({ height: img.height, width: img.width, photo });\r\n  };\r\n  return (\r\n    <CameraWrapper>\r\n      <Video playsInline autoPlay ref={video} />\r\n      <Button onClick={snap} />\r\n    </CameraWrapper>\r\n  );\r\n};\r\nCamera.propTypes = {\r\n  onSnap: PropTypes.func,\r\n};\r\nexport default Camera;\r\n","import React, { useEffect, useRef, useState } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport ReactCrop from \"react-image-crop\";\r\nimport styled from \"styled-components\";\r\nimport \"react-image-crop/dist/ReactCrop.css\";\r\nconst EditorWrapper = styled.div`\r\n  height: 100%;\r\n  width: 100vw;\r\n  position: absolute;\r\n  top: 0;\r\n  z-index: 20;\r\n`;\r\nconst Button = styled.button`\r\n  background: #fff;\r\n  border: none;\r\n  border-radius: 5px;\r\n  cursor: pointer;\r\n  padding: 8px 10px;\r\n  opacity: 0.9;\r\n  margin-right: 5px;\r\n  &:hover {\r\n    opacity: 1;\r\n  }\r\n`;\r\nconst EditorControl = styled.div`\r\n  height: auto;\r\n  width: 100%;\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  align-items: center;\r\n  position: absolute;\r\n  top: 0;\r\n  padding: 20px;\r\n  user-select: none;\r\n`;\r\nconst Editor = ({ image, onProceed, onCancel }) => {\r\n  const imgRef = useRef(null);\r\n  const [crop, setCrop] = useState({\r\n    x: 35,\r\n    y: 35,\r\n    unit: \"%\",\r\n    width: 30,\r\n    height: 30,\r\n  });\r\n  const [completedCrop, setCompletedCrop] = useState(null);\r\n  const [croppedImage, setCroppedImage] = useState(null);\r\n  const handleImageLoad = (img) => {\r\n    imgRef.current = img;\r\n  };\r\n  const handleProceed = () => {\r\n    if (croppedImage) onProceed(croppedImage);\r\n    else onProceed(image);\r\n  };\r\n  useEffect(() => {\r\n    if (!completedCrop || !imgRef.current) {\r\n      return;\r\n    }\r\n    const canvas = document.createElement(\"canvas\");\r\n    const image = imgRef.current;\r\n    const crop = completedCrop;\r\n\r\n    const scaleX = image.naturalWidth / image.width;\r\n    const scaleY = image.naturalHeight / image.height;\r\n    const ctx = canvas.getContext(\"2d\");\r\n    const pixelRatio = window.devicePixelRatio;\r\n\r\n    canvas.width = crop.width * pixelRatio;\r\n    canvas.height = crop.height * pixelRatio;\r\n\r\n    ctx.setTransform(pixelRatio, 0, 0, pixelRatio, 0, 0);\r\n    ctx.imageSmoothingQuality = \"high\";\r\n\r\n    ctx.drawImage(\r\n      image,\r\n      crop.x * scaleX,\r\n      crop.y * scaleY,\r\n      crop.width * scaleX,\r\n      crop.height * scaleY,\r\n      0,\r\n      0,\r\n      crop.width,\r\n      crop.height\r\n    );\r\n    const croppedImage = canvas.toDataURL();\r\n    setCroppedImage(croppedImage);\r\n  }, [completedCrop]);\r\n  return (\r\n    <EditorWrapper>\r\n      <ReactCrop\r\n        src={image}\r\n        onImageLoaded={handleImageLoad}\r\n        crop={crop}\r\n        onChange={(c) => setCrop(c)}\r\n        onComplete={(c) => setCompletedCrop(c)}\r\n      />\r\n      <EditorControl>\r\n        <Button onClick={handleProceed}>Proceed</Button>\r\n        <Button onClick={onCancel}>Cancel</Button>\r\n      </EditorControl>\r\n    </EditorWrapper>\r\n  );\r\n};\r\nEditor.propTypes = {\r\n  image: PropTypes.string,\r\n  onProceed: PropTypes.func,\r\n  onCancel: PropTypes.func\r\n};\r\nexport default Editor;\r\n","import React, { useEffect, useRef, useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { Edit, NavigateBefore, NavigateNext } from \"@material-ui/icons\";\r\nconst PreviewImage = styled.img`\r\n  height: auto;\r\n  width: auto;\r\n  top: 0;\r\n  z-index: 10;\r\n`;\r\nconst PreviewWrapper = styled.div`\r\n  height: 100%;\r\n  width: 100vw;\r\n  background: red;\r\n  position: absolute;\r\n  top: 0;\r\n  transform: translateX(100%);\r\n  transition: 0.3s;\r\n`;\r\nconst Icon = styled.div`\r\n  height: 50px;\r\n  width: 50px;\r\n  color: #fff;\r\n  border-radius: 50%;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  cursor: pointer;\r\n  &:hover {\r\n    background: #fff;\r\n    color: #000;\r\n    opacity: 0.8;\r\n  }\r\n`;\r\nconst Control = styled.div`\r\n  position: absolute;\r\n  z-index: 50;\r\n  top: 0;\r\n  display: flex;\r\n  justify-content: space-around;\r\n  width: 100%;\r\n  height: 100%;\r\n  align-items: flex-end;\r\n  padding: 50px;\r\n`;\r\nconst InputsHolder = styled.div`\r\n  position: absolute;\r\n  z-index: 150;\r\n  height: auto;\r\n  width: 100%;\r\n  display: flex;\r\n  justify-content: center;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n`;\r\nconst NameInput = styled.input`\r\n  height: 35px;\r\n  width: 45%;\r\n  border: none;\r\n  border-bottom: 2px solid #fff;\r\n  color: #fff;\r\n  padding: 20px 5px;\r\n  background: transparent;\r\n  font-size: 20px;\r\n  font-weight: 400;\r\n  font-family: \"Montserrat\", sans-serif;\r\n  &:focus {\r\n    outline: none;\r\n  }\r\n  &::placeholder {\r\n    color: rgba(255, 255, 255, 0.829);\r\n  }\r\n  @media screen and (max-width: 720px) {\r\n    width: 65%;\r\n    font-size: 15px;\r\n  }\r\n`;\r\nconst LoadingIndicator = styled.div`\r\n  height: 30px;\r\n  width: 180px;\r\n  background: #1ecbe1;\r\n  border-radius: 5px;\r\n  color: #fff;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  position: absolute;\r\n  top: 10px;\r\n  right: 10px;\r\n  z-index: 300;\r\n  font-family: \"Montserrat\", sans-serif;\r\n  font-weight: 500;\r\n`;\r\nconst PreviewView = ({ image, onRetake, onShowEditor, onImageSave, isSaving }) => {\r\n  const wrapper = useRef(null);\r\n  const [tValue, setTvalue] = useState(\"0\");\r\n  const [noteName, setNoteName] = useState(\"\");\r\n  useEffect(() => (wrapper.current.style.transform = `translate(${tValue})`), [\r\n    tValue,\r\n  ]);\r\n  return (\r\n    <PreviewWrapper ref={wrapper}>\r\n      {isSaving && <LoadingIndicator>Saving...</LoadingIndicator>}\r\n      <PreviewImage src={image} />\r\n      <InputsHolder>\r\n        <NameInput\r\n          value={noteName}\r\n          onChange={(e) => setNoteName(e.currentTarget.value)}\r\n          placeholder=\"Enter your note name\"\r\n        />\r\n      </InputsHolder>\r\n      <Control>\r\n        {/* Back icon */}\r\n        <Icon\r\n          onClick={() => {\r\n            setTvalue(\"-100%\");\r\n            setTimeout(() => {\r\n              onRetake();\r\n            }, 300); // unmount after 300ms so that the animation can play it's role..\r\n          }}\r\n        >\r\n          <NavigateBefore />\r\n        </Icon>\r\n        {/* Edit icon */}\r\n        <Icon onClick={onShowEditor}>\r\n          <Edit />\r\n        </Icon>\r\n        {/* Forward icon */}\r\n        <Icon onClick={() => onImageSave(noteName)}>\r\n          <NavigateNext />\r\n        </Icon>\r\n      </Control>\r\n    </PreviewWrapper>\r\n  );\r\n};\r\nexport default PreviewView;\r\n","import Camera from \"../components/Camera\";\r\nimport Editor from \"../components/Editor\";\r\nimport styled from \"styled-components\";\r\nimport { useContext, useEffect, useRef, useState } from \"react\";\r\nimport { v4 as uuiv4 } from \"uuid\";\r\nimport firebase from \"../firebase\";\r\nimport LoginContext from \"../context\";\r\nimport PreviewView from \"./PreviewView\";\r\nimport { ArrowBack } from \"@material-ui/icons\";\r\nconst CameraViewWrapper = styled.div`\r\n  height: 100%;\r\n  width: 100vw;\r\n  overflow: hidden;\r\n  position: absolute;\r\n  transform: translateX(100%);\r\n  transition: 0.3s;\r\n  z-index: 150;\r\n`;\r\nconst HideCamera = styled.div`\r\n  height: 50px;\r\n  width: 50px;\r\n  position: absolute;\r\n  top: 20px;\r\n  left: 20px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  border-radius: 50%;\r\n  cursor: pointer;\r\n  color: #fff;\r\n`;\r\n\r\n////////////////// Firebase Refs /////////////////////\r\nconst db = firebase.database();\r\n\r\nconst CameraView = ({ onCameraHide, stream }) => {\r\n  const wrapper = useRef(null);\r\n  const [tValue, setTvalue] = useState(\"0\");\r\n  const [showPreview, setShowPreview] = useState(false);\r\n  const [image, setImage] = useState(null);\r\n  const [showEditor, setShowEditor] = useState(false);\r\n  const [data, setData] = useState(null);\r\n  const [isSaving, setIsSaving] = useState(false);\r\n  const { uid: userId } = useContext(LoginContext);\r\n  const handleSnap = (data) => {\r\n    setImage(data.photo);\r\n    setData(data);\r\n    setShowPreview(true);\r\n  };\r\n  const handleRetake = () => {\r\n    setShowPreview(false);\r\n  };\r\n  const handleOnProceed = (croppedImage) => {\r\n    setImage(croppedImage);\r\n    setShowEditor(false);\r\n    setShowPreview(true);\r\n  };\r\n  const handleShowEditor = () => {\r\n    setShowEditor(true);\r\n    setShowPreview(false);\r\n    setImage(data.photo);\r\n  };\r\n  const handleEditorCancel = () => {\r\n    setShowEditor(false);\r\n    setShowPreview(true);\r\n  };\r\n  useEffect(() => {\r\n    wrapper.current.style.transform = `translateX(${tValue})`;\r\n  }, [tValue]);\r\n  const handleImageSave = (noteName) => {\r\n    const imageUid = uuiv4();\r\n    const imgUrl = `images/${userId}/${imageUid}`;\r\n    const imagesRef = db.ref(imgUrl);\r\n    const imageData = {\r\n      name: noteName,\r\n      image: image,\r\n      uid: imageUid,\r\n    };\r\n    setIsSaving(true);\r\n    imagesRef.set(imageData, () => {\r\n      onCameraHide();\r\n      setIsSaving(false);\r\n    });\r\n  };\r\n  return (\r\n    <CameraViewWrapper ref={wrapper}>\r\n      <Camera onSnap={handleSnap} />\r\n      <HideCamera\r\n        onClick={() => {\r\n          setTvalue(\"-100%\");\r\n          onCameraHide();\r\n        }}\r\n      >\r\n        <ArrowBack />\r\n      </HideCamera>\r\n      {showPreview && (\r\n        <PreviewView\r\n          isSaving={isSaving}\r\n          image={image}\r\n          onRetake={handleRetake}\r\n          onShowEditor={handleShowEditor}\r\n          onImageSave={handleImageSave}\r\n        />\r\n      )}\r\n      {showEditor && (\r\n        <Editor\r\n          image={image}\r\n          onProceed={handleOnProceed}\r\n          onCancel={handleEditorCancel}\r\n        />\r\n      )}\r\n    </CameraViewWrapper>\r\n  );\r\n};\r\n\r\nexport default CameraView;\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { Lightbox } from \"react-modal-image\";\r\nimport firebase from \"../firebase\";\r\nimport LoginContext from \"../context\";\r\nconst NotesContainer = styled.div`\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  height: auto;\r\n  user-select: none;\r\n  padding-top: 70px;\r\n`;\r\nconst NoteName = styled.p`\r\n  color: #fff;\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n  opacity: 0;\r\n  font-family: \"Montserrat\", sans-serif;\r\n  font-weight: 600;\r\n`;\r\nconst Note = styled.div`\r\n  height: 200px;\r\n  flex-grow: 1;\r\n  margin: 2px;\r\n  background: #fff;\r\n  cursor: pointer;\r\n  position: relative;\r\n  &:hover {\r\n    opacity: 0.8;\r\n  }\r\n  &:hover ${NoteName} {\r\n    opacity: 1;\r\n  }\r\n`;\r\nconst NoteImage = styled.img`\r\n  height: 200px;\r\n  object-fit: cover;\r\n  max-width: 100%;\r\n  min-width: 100%;\r\n  vertical-align: bottom;\r\n`;\r\nconst Svg = styled.svg`\r\n  height: 45px;\r\n  width: 45px;\r\n  stroke: blue;\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n`;\r\nconst Circle = styled.circle`\r\n  stroke-dasharray: 180;\r\n  stroke-dashoffset: 0;\r\n  -webkit-transform-origin: center;\r\n  -ms-transform-origin: center;\r\n  transform-origin: center;\r\n  @keyframes turn {\r\n    0% {\r\n      stroke-dashoffset: 180;\r\n    }\r\n\r\n    50% {\r\n      stroke-dashoffset: 45;\r\n      transform: rotate(135deg);\r\n    }\r\n\r\n    100% {\r\n      stroke-dashoffset: 180;\r\n      transform: rotate(360deg);\r\n    }\r\n  }\r\n  -webkit-animation: turn 1.35s ease-in-out infinite;\r\n  animation: turn 1.35s ease-in-out infinite;\r\n`;\r\n\r\n////////////////// Firebase Refs /////////////////////\r\nconst db = firebase.database();\r\n\r\nconst NotesView = () => {\r\n  const [showLightbox, setShowLighbox] = useState(false);\r\n  const [lightboxData, setLightboxData] = useState(null);\r\n  const [imageData, setImageData] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const { uid } = useContext(LoginContext);\r\n  const handleShowLightbox = (data) => {\r\n    setShowLighbox(!showLightbox);\r\n    setLightboxData(data);\r\n  };\r\n  const hideLightBox = () => {\r\n    setShowLighbox(!showLightbox);\r\n  };\r\n  // fetch images from firebase database\r\n  // useEffect(() => {\r\n  //   const fetchImages = async () => {\r\n  //     const imagesRef = db.ref(`images/${uid}`);\r\n  //     const data = await imagesRef.once(\"value\");\r\n  //     if (data.exists()) {\r\n  //       // if data exists in database\r\n  //       const val = data.val();\r\n  //       const values = Object.values(val);\r\n  //       setImageData(values);\r\n  //     }\r\n  //     setIsLoading(false);\r\n  //   };\r\n  //   fetchImages();\r\n  // }, [uid]);\r\n  useEffect(() => {\r\n    const imagesRef = db.ref(`images/${uid}`);\r\n    setImageData([]);\r\n    imagesRef.on('child_added', (snap) => {\r\n      const val = snap.val();\r\n      setImageData(data => [...data, val]);\r\n      console.log(val);\r\n      setIsLoading(false);\r\n    });\r\n  }, [uid]);\r\n  return (\r\n    <NotesContainer>\r\n      {isLoading && (\r\n        <Svg viewBox=\"0 0 66 66\" xmlns=\"http://www.w3.org/2000/svg\">\r\n          <Circle\r\n            fill=\"none\"\r\n            strokeWidth=\"6\"\r\n            strokeLinecap=\"round\"\r\n            cx=\"33\"\r\n            cy=\"33\"\r\n            r=\"25\"\r\n          ></Circle>\r\n        </Svg>\r\n      )}\r\n      {imageData &&\r\n        !isLoading &&\r\n        imageData.map((d) => (\r\n          <Note onClick={() => handleShowLightbox(d)}>\r\n            <NoteImage src={d && d.image} />\r\n            <NoteName>{d && d.name}</NoteName>\r\n          </Note>\r\n        ))}\r\n      {showLightbox && lightboxData && (\r\n        <Lightbox\r\n          large={lightboxData.image}\r\n          medium={lightboxData.image}\r\n          hideDownload={true}\r\n          alt={lightboxData.name}\r\n          showRotate={true}\r\n          onClose={hideLightBox}\r\n        />\r\n      )}\r\n    </NotesContainer>\r\n  );\r\n};\r\nexport default NotesView;\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport LoginContext from \"../context\";\r\nimport CameraView from \"./CameraView\";\r\nimport NotesView from \"./NotesView\";\r\nimport PropTypes from \"prop-types\";\r\nimport \"firebase/auth\";\r\nimport { CameraAlt, ExitToApp, Search } from \"@material-ui/icons\";\r\nconst Wrapper = styled.div`\r\n  height: 100%;\r\n  width: 100%;\r\n  position: absolute;\r\n  overflow: hidden;\r\n`;\r\nconst ShowcaseWrapper = styled.div`\r\n  height: 100%;\r\n  width: 100%;\r\n  background: #eee;\r\n  overflow-y: scroll;\r\n  &::-webkit-scrollbar {\r\n    display: none;\r\n  }\r\n  font-family: \"Montserrat\", sans-serif;\r\n`;\r\nconst HeaderContainer = styled.div`\r\n  display: flex;\r\n  width: 100%;\r\n  padding: 15px;\r\n  align-items: center;\r\n  background: #fff;\r\n  box-shadow: 0 1px 1.5px rgba(0, 0, 0, 0.1);\r\n  user-select: none;\r\n  position: fixed;\r\n  z-index: 50;\r\n  @media screen and (max-width: 720px) {\r\n    justify-content: space-between;\r\n  }\r\n`;\r\nconst SiteName = styled.h3`\r\n  color: #1ecbe1;\r\n`;\r\nconst HeaderMeta = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n`;\r\nconst IconWrapper = styled.div`\r\n  color: #1ecbe1;\r\n  cursor: pointer;\r\n  margin-left: 10px;\r\n`;\r\nconst Button = styled.button`\r\n  border: none;\r\n  color: #fff;\r\n  background: #1ecbe1;\r\n  padding: 8px 15px;\r\n  border-radius: 5px;\r\n  cursor: pointer;\r\n  &:hover {\r\n    opacity: 0.7;\r\n  }\r\n`;\r\nconst Menu = styled.div`\r\n  flex: 1 1 auto;\r\n  display: flex;\r\n  padding: 0 15px;\r\n  @media screen and (max-width: 720px) {\r\n    display: none;\r\n  }\r\n`;\r\nconst MenuItem = styled.div`\r\n  margin: 0 10px;\r\n  color: #6e6d7a;\r\n  transition: 0.3s;\r\n  cursor: pointer;\r\n  &:hover {\r\n    color: #1ecbe1;\r\n  }\r\n  font-family: \"Montserrat\", sans-serif;\r\n  font-weight: 600;\r\n  font-size: 15px;\r\n`;\r\nconst TakePicture = styled.div`\r\n  height: 50px;\r\n  width: 50px;\r\n  position: absolute;\r\n  bottom: 20px;\r\n  right: 20px;\r\n  background: #1ecbe1;\r\n  color: #fff;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  border-radius: 50%;\r\n  font-size: 20px;\r\n  cursor: pointer;\r\n`;\r\nconst CircledImage = styled.img`\r\n  height: 35px;\r\n  width: 35px;\r\n  border-radius: 50%;\r\n  cursor: pointer;\r\n  &:hover {\r\n    opacity: 0.7;\r\n  }\r\n`;\r\nconst SearchContainer = styled.div`\r\n  display: flex;\r\n  padding: 10px;\r\n  margin-top: 60px;\r\n`;\r\nconst SearchInput = styled.input`\r\n  height: 35px;\r\n  background: #fff;\r\n  flex: 1;\r\n  border: none;\r\n  padding: 10px;\r\n  margin-right: 10px;\r\n  border-radius: 5px;\r\n  box-shadow: 0 1px 1.5px rgba(0, 0, 0, 0.1);\r\n  &:focus {\r\n    outline: none;\r\n  }\r\n`;\r\n\r\nconst Showcase = ({ onUserLogOut }) => {\r\n  const user = useContext(LoginContext);\r\n  const [showCamera, setShowCamera] = useState(false);\r\n  const [animeDone, setAnimeDone] = useState(false);\r\n  const handleTakePicture = () => {\r\n    setShowCamera(!showCamera);\r\n  };\r\n  const handleHideCamera = (refresh) => {\r\n    setAnimeDone(false);\r\n    setTimeout(() => {\r\n      setShowCamera(!showCamera);\r\n    }, 350);\r\n  };\r\n\r\n  return (\r\n    <Wrapper>\r\n      {showCamera && <CameraView onCameraHide={handleHideCamera} />}\r\n      {!animeDone && (\r\n        <ShowcaseWrapper>\r\n          <HeaderContainer>\r\n            <SiteName>Note Keeper</SiteName>\r\n            <Menu>\r\n              <MenuItem>Bangla</MenuItem>\r\n              <MenuItem>English</MenuItem>\r\n              <MenuItem>Math</MenuItem>\r\n              <MenuItem>Chemistry</MenuItem>\r\n              <MenuItem>Biology</MenuItem>\r\n              <MenuItem>Physics</MenuItem>\r\n              <MenuItem>I&Ct</MenuItem>\r\n            </Menu>\r\n            <HeaderMeta>\r\n              <CircledImage src={user && user.photoURL} />\r\n              <IconWrapper>\r\n                <Search />\r\n              </IconWrapper>\r\n              <IconWrapper onClick={onUserLogOut}>\r\n                <ExitToApp />\r\n              </IconWrapper>\r\n            </HeaderMeta>\r\n          </HeaderContainer>\r\n          {/* <SearchContainer>\r\n            <SearchInput placeholder=\"Enter keyword i.e. integration, straight line..\" />\r\n            <Button>Search</Button>\r\n          </SearchContainer> */}\r\n          <NotesView />\r\n          <TakePicture onClick={handleTakePicture}>\r\n            <CameraAlt />\r\n          </TakePicture>\r\n        </ShowcaseWrapper>\r\n      )}\r\n    </Wrapper>\r\n  );\r\n};\r\nShowcase.propTypes = {\r\n  onUserLogOut: PropTypes.func.isRequired,\r\n};\r\nexport default Showcase;\r\n","import { useEffect, useState } from \"react\";\nimport LoginView from \"./components/LoginView\";\nimport Showcase from \"./components/Showcase\";\nimport LoginContext from \"./context\";\nimport styled from \"styled-components\";\nimport firebase from \"./firebase\";\nconst AppWrapper = styled.div``;\nconst App = () => {\n  const [user, setUser] = useState(null);\n  const [stream, setStream] = useState(null);\n  const handleLogOut = () => {\n    firebase\n      .auth()\n      .signOut()\n      .then(() => {\n        setUser(null);\n      });\n  };\n  /**\n   * This will generate a video stream behind the scene\n   * and thus we will be able to remove the init time...\n   */\n   useEffect(() => {\n    (async () => {\n      try {\n        const facingMode =\n          (await (await navigator.mediaDevices.enumerateDevices()).length) <= 1\n            ? \"user\"\n            : \"environment\";\n        const stream = await navigator.mediaDevices.getUserMedia({\n          video: {\n            facingMode,\n            aspectRatio: 20 / 9,\n          },\n        });\n        setStream(stream);\n      } catch (error) {\n        console.log(JSON.stringify(error));\n      }\n    })();\n  }, []);\n  useEffect(() => {\n    firebase.auth().onAuthStateChanged((user) => {\n      if (user) {\n        // signed in successful\n        setUser(user);\n        console.log(user);\n      } else {\n        // if logout happens\n        setUser(null);\n      }\n    });\n  }, []);\n  return (\n    <LoginContext.Provider value={{\n      ...user,\n      stream\n    }}>\n      <AppWrapper>\n        {!user && <LoginView />}\n        {user && stream && <Showcase onUserLogOut={handleLogOut} />}\n      </AppWrapper>\n    </LoginContext.Provider>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}