{"version":3,"sources":["components/Camera.js","App.js","index.js"],"names":["CameraWrapper","styled","div","Video","video","Button","button","Camera","onSnap","onShowPreview","useRef","useState","setImage","useEffect","a","navigator","mediaDevices","getUserMedia","height","window","innerHeight","width","stream","current","srcObject","playsInline","autoPlay","ref","onClick","photo","c","document","createElement","innerWidth","getContext","drawImage","toDataURL","getImage","PreviewImage","img","PreviewWrapper","Control","App","showPreview","setShowPreview","image","className","imageSrc","src","ReactDOM","render","StrictMode","getElementById"],"mappings":"4OAEMA,EAAgBC,IAAOC,IAAV,+DAIbC,EAAQF,IAAOG,MAAV,4JASLC,EAASJ,IAAOK,OAAV,4UA2DGC,EAxCA,SAAC,GAA+B,IAA7BC,EAA4B,EAA5BA,OACVJ,GADsC,EAApBK,cACVC,iBAAO,OADuB,EAElBC,mBAAS,MAFS,mBAE9BC,GAF8B,WAW5CC,qBAAU,WACR,sBAAC,4BAAAC,EAAA,+EAEwBC,UAAUC,aAAaC,aAAa,CACvDb,MAAO,CACLc,OAAQC,OAAOC,YACfC,MAAOF,OAAOC,eALrB,OAESE,EAFT,OAQGlB,EAAMmB,QAAQC,UAAYF,EAR7B,sGAAD,KAaC,IAMH,OACE,mCACE,eAACtB,EAAD,WACE,cAACG,EAAD,CAAOsB,aAAW,EAACC,UAAQ,EAACC,IAAKvB,IACjC,cAACC,EAAD,CAAQuB,QATD,WACX,IAAMC,EAxBS,SAACzB,GAChB,IAAM0B,EAAIC,SAASC,cAAc,UAKjC,OAJAF,EAAEZ,OAASC,OAAOC,YAClBU,EAAET,MAAQF,OAAOc,WACLH,EAAEI,WAAW,MACrBC,UAAU/B,EAAO,EAAG,EAAG0B,EAAET,MAAOS,EAAEZ,QAC/BY,EAAEM,YAkBKC,CAASjC,EAAMmB,SAC7BX,EAASiB,GACTrB,GAAUA,EAAOqB,YC5DfS,EAAerC,IAAOsC,IAAV,0FAMZlC,EAASJ,IAAOK,OAAV,mMAYNkC,EAAiBvC,IAAOC,IAAV,qIAQduC,EAAUxC,IAAOC,IAAV,iLAoCEwC,MA3Bf,WAAgB,IAAD,EACyB/B,oBAAS,GADlC,mBACNgC,EADM,KACOC,EADP,OAEajC,mBAAS,MAFtB,mBAENkC,EAFM,KAECjC,EAFD,KAUb,OACE,sBAAKkC,UAAU,MAAf,UACE,cAAC,EAAD,CAAQtC,OATO,SAACuC,GAClBnC,EAASmC,GACTH,GAAe,MAQZD,GACC,eAACH,EAAD,WACE,cAACF,EAAD,CAAcU,IAAKH,IACnB,eAACJ,EAAD,WACE,cAAC,EAAD,CAAQb,QAVG,WACnBgB,GAAe,IASP,oBACA,cAAC,EAAD,mBACA,cAAC,EAAD,gCCpDZK,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFpB,SAASqB,eAAe,W","file":"static/js/main.77d33cf8.chunk.js","sourcesContent":["import React, { useState, useRef, useCallback, useEffect } from \"react\";\r\nimport styled from \"styled-components\";\r\nconst CameraWrapper = styled.div`\r\n  height: 100vh;\r\n  width: 100vw;\r\n`;\r\nconst Video = styled.video`\r\n  postition: absolute;\r\n  height: 100vh;\r\n  width: 100vw;\r\n  left: 0;\r\n  top: 0;\r\n  object-fit: fill;\r\n  pointer-events: none;\r\n`;\r\nconst Button = styled.button`\r\n  height: 50px;\r\n  width: 50px;\r\n  border-radius: 50%;\r\n  background: #fff;\r\n  position: absolute;\r\n  bottom: 20px;\r\n  left: 50%;\r\n  transform: translateX(-50%);\r\n  cursor: pointer;\r\n  border: none;\r\n  &:focus {\r\n    outline: none;\r\n  }\r\n  &:hover {\r\n    border: 5px solid gray;\r\n    opacity: 0.8;\r\n  }\r\n`;\r\nconst Camera = ({ onSnap, onShowPreview }) => {\r\n  const video = useRef(null);\r\n  const [image, setImage] = useState(null);\r\n  const getImage = (video) => {\r\n    const c = document.createElement(\"canvas\");\r\n    c.height = window.innerHeight;\r\n    c.width = window.innerWidth;\r\n    const ctx = c.getContext(\"2d\");\r\n    ctx.drawImage(video, 0, 0, c.width, c.height);\r\n    return c.toDataURL();\r\n  };\r\n  useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        const stream = await navigator.mediaDevices.getUserMedia({\r\n          video: {\r\n            height: window.innerHeight,\r\n            width: window.innerHeight,\r\n          },\r\n        });\r\n        video.current.srcObject = stream;\r\n      } catch (error) {\r\n        //..\r\n      }\r\n    })();\r\n  }, []);\r\n  const snap = () => {\r\n    const photo = getImage(video.current);\r\n    setImage(photo);\r\n    onSnap && onSnap(photo);\r\n  };\r\n  return (\r\n    <>\r\n      <CameraWrapper>\r\n        <Video playsInline autoPlay ref={video} />\r\n        <Button onClick={snap} />\r\n      </CameraWrapper>\r\n    </>\r\n  );\r\n};\r\nexport default Camera;\r\n","import Camera from \"./components/Camera\";\nimport styled from \"styled-components\";\nimport { useEffect, useState } from \"react\";\nconst PreviewImage = styled.img`\n  height: 100vh;\n  width: 100vw;\n  top: 0;\n  z-index: 10;\n`;\nconst Button = styled.button`\n  height: 30px;\n  width: 80px;\n  border-radius: 5px;\n  background: #000;\n  color: #fff;\n  border: none;\n  cursor: pointer;\n  &:hover {\n    opacity: 0.8;\n  }\n`;\nconst PreviewWrapper = styled.div`\n  height: 100vh;\n  width: 100vw;\n  position: absolute;\n  top: 0;\n  z-index: 15;\n  background: red;\n`;\nconst Control = styled.div`\n  position: absolute;\n  bottom: 0;\n  padding: 25px 0;\n  width: 100%;\n  display: flex;\n  justify-content: space-around;\n  align-items: center;\n`;\nfunction App() {\n  const [showPreview, setShowPreview] = useState(false);\n  const [image, setImage] = useState(null);\n  const handleSnap = (imageSrc) => {\n    setImage(imageSrc);\n    setShowPreview(true);\n  };\n  const handleRetake = () => {\n    setShowPreview(false);\n  }\n  return (\n    <div className=\"App\">\n      <Camera onSnap={handleSnap} />\n      {showPreview && (\n        <PreviewWrapper>\n          <PreviewImage src={image} />\n          <Control>\n            <Button onClick={handleRetake}>Retake</Button>\n            <Button>Edit</Button>\n            <Button>Proceed</Button>\n          </Control>\n        </PreviewWrapper>\n      )}\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}