{"version":3,"sources":["firebase/index.js","components/LoginView.js","context/index.js","components/Camera.js","components/Editor.js","components/CameraView.js","components/NotesView.js","components/Showcase.js","App.js","index.js"],"names":["firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","LoginViewWrapper","styled","div","LoginButton","button","Input","input","LoginView","onSuccess","useState","setUser","useEffect","auth","onAuthStateChanged","user","placeholder","onClick","setPersistence","Auth","Persistence","LOCAL","then","a","provider","GoogleAuthProvider","signInWithPopup","LoginContext","createContext","CameraWrapper","Video","video","Button","Camera","onSnap","useRef","navigator","mediaDevices","enumerateDevices","length","facingMode","getUserMedia","aspectRatio","stream","current","srcObject","playsInline","autoPlay","ref","photo","c","document","createElement","height","window","innerHeight","width","innerWidth","getContext","drawImage","toDataURL","getImage","img","src","EditorWrapper","EditorControl","Editor","image","onProceed","onCancel","imgRef","x","y","unit","crop","setCrop","completedCrop","setCompletedCrop","croppedImage","setCroppedImage","canvas","scaleX","naturalWidth","scaleY","naturalHeight","ctx","pixelRatio","devicePixelRatio","setTransform","imageSmoothingQuality","onImageLoaded","onChange","onComplete","PreviewImage","PreviewWrapper","Control","HideCamera","db","database","CameraView","onCameraHide","showPreview","setShowPreview","setImage","showEditor","setShowEditor","data","setData","userId","useContext","uid","className","imageUid","uuiv4","imgUrl","imagesRef","imageData","name","set","NotesContainer","NoteName","p","Note","NoteImage","Svg","svg","Circle","circle","NotesView","showLightbox","setShowLighbox","lightboxData","setLightboxData","setImageData","isLoading","setIsLoading","once","exists","val","values","Object","fetchImages","viewBox","xmlns","fill","strokeWidth","strokeLinecap","cx","cy","r","map","d","large","medium","hideDownload","alt","onClose","Wrapper","ShowcaseWrapper","HeaderContainer","SiteName","h3","HeaderMeta","Menu","MenuItem","TakePicture","CircledImage","SearchContainer","SearchInput","Showcase","onUserLogOut","showCamera","setShowCamera","photoURL","AppWrapper","App","Provider","value","signOut","ReactDOM","render","StrictMode","getElementById"],"mappings":"iOAUAA,IAASC,cATM,CACbC,OAAQ,0CACRC,WAAY,kCACZC,YAAa,yCACbC,UAAW,kBACXC,cAAe,8BACfC,kBAAmB,gBACnBC,MAAO,+CAGMR,I,kEAAAA,IAAf,E,eCNMS,EAAmBC,IAAOC,IAAV,qLAShBC,EAAcF,IAAOG,OAAV,gTAcXC,EAAQJ,IAAOK,MAAV,+NAkDIC,EArCG,SAAC,GAAmB,IAAjBC,EAAgB,EAAhBA,UAAgB,EACXC,mBAAS,MADE,mBACtBC,GADsB,WAuBnC,OAXAC,qBAAU,WACRpB,EAASqB,OAAOC,oBAAmB,SAACC,GAGhCN,EAFEM,GAKQ,WAGb,CAACN,IAEF,eAACR,EAAD,WACE,cAACK,EAAD,CAAOU,YAAY,wBACnB,cAACV,EAAD,CAAOU,YAAY,wBACnB,cAACZ,EAAD,oBACA,cAACA,EAAD,CAAaa,QA1Ba,WAC5BzB,EACGqB,OACAK,eAAe1B,EAASqB,KAAKM,KAAKC,YAAYC,OAC9CC,KAHH,sBAGQ,gCAAAC,EAAA,6DACEC,EAAW,IAAIhC,EAASqB,KAAKY,mBAD/B,SAEmBjC,EAASqB,OAAOa,gBAAgBF,GAFnD,gBAEIT,EAFJ,EAEIA,KACRJ,EAAQI,GAHJ,6CAsBN,mCCnESY,EADMC,wBAAc,MCE7BC,GAAgB3B,IAAOC,IAAV,+DAIb2B,GAAQ5B,IAAO6B,MAAV,4JASLC,GAAS9B,IAAOG,OAAV,4UAgEG4B,GA7CA,SAAC,GAAgB,IAAdC,EAAa,EAAbA,OACVH,EAAQI,iBAAO,MASrBvB,qBAAU,WACR,sBAAC,8BAAAW,EAAA,+EAGmBa,UAAUC,aAAaC,mBAH1C,8BAG8DC,OAH9D,8BAGyE,GAHzE,sBAIS,OAJT,6BAKS,cALT,eAESC,EAFT,eAMwBJ,UAAUC,aAAaI,aAAa,CACvDV,MAAO,CACLS,aACAE,YAAa,GAAK,KATzB,QAMSC,EANT,OAYGZ,EAAMa,QAAQC,UAAYF,EAZ7B,2GAAD,KAiBC,IAOH,OACE,eAACd,GAAD,WACE,cAACC,GAAD,CAAOgB,aAAW,EAACC,UAAQ,EAACC,IAAKjB,IACjC,cAACC,GAAD,CAAQf,QATC,WACX,IAAMgC,EA5BS,SAAClB,GAChB,IAAMmB,EAAIC,SAASC,cAAc,UAKjC,OAJAF,EAAEG,OAASC,OAAOC,YAClBL,EAAEM,MAAQF,OAAOG,WACLP,EAAEQ,WAAW,MACrBC,UAAU5B,EAAO,EAAG,EAAGmB,EAAEM,MAAON,EAAEG,QAC/BH,EAAEU,YAsBKC,CAAS9B,EAAMa,SACvBkB,EAAMX,SAASC,cAAc,OACnCU,EAAIC,IAAMd,EACVf,GAAUA,EAAO,CAAEmB,OAAQS,EAAIT,OAAQG,MAAOM,EAAIN,MAAOP,iB,oBC/DvDe,I,MAAgB9D,IAAOC,IAAV,kHAOb6B,GAAS9B,IAAOG,OAAV,6MAYN4D,GAAgB/D,IAAOC,IAAV,+MAmFJ+D,GAxEA,SAAC,GAAoC,IAAlCC,EAAiC,EAAjCA,MAAOC,EAA0B,EAA1BA,UAAWC,EAAe,EAAfA,SAC5BC,EAASnC,iBAAO,MAD2B,EAEzBzB,mBAAS,CAC/B6D,EAAG,GACHC,EAAG,GACHC,KAAM,IACNjB,MAAO,GACPH,OAAQ,KAPuC,mBAE1CqB,EAF0C,KAEpCC,EAFoC,OASPjE,mBAAS,MATF,mBAS1CkE,EAT0C,KAS3BC,EAT2B,OAUTnE,mBAAS,MAVA,mBAU1CoE,EAV0C,KAU5BC,EAV4B,KAmDjD,OAjCAnE,qBAAU,WACR,GAAKgE,GAAkBN,EAAO1B,QAA9B,CAGA,IAAMoC,EAAS7B,SAASC,cAAc,UAChCe,EAAQG,EAAO1B,QACf8B,EAAOE,EAEPK,EAASd,EAAMe,aAAef,EAAMX,MACpC2B,EAAShB,EAAMiB,cAAgBjB,EAAMd,OACrCgC,EAAML,EAAOtB,WAAW,MACxB4B,EAAahC,OAAOiC,iBAE1BP,EAAOxB,MAAQkB,EAAKlB,MAAQ8B,EAC5BN,EAAO3B,OAASqB,EAAKrB,OAASiC,EAE9BD,EAAIG,aAAaF,EAAY,EAAG,EAAGA,EAAY,EAAG,GAClDD,EAAII,sBAAwB,OAE5BJ,EAAI1B,UACFQ,EACAO,EAAKH,EAAIU,EACTP,EAAKF,EAAIW,EACTT,EAAKlB,MAAQyB,EACbP,EAAKrB,OAAS8B,EACd,EACA,EACAT,EAAKlB,MACLkB,EAAKrB,QAEP,IAAMyB,EAAeE,EAAOpB,YAC5BmB,EAAgBD,MACf,CAACF,IAEF,eAACZ,GAAD,WACE,cAAC,KAAD,CACED,IAAKI,EACLuB,cA5CkB,SAAC5B,GACvBQ,EAAO1B,QAAUkB,GA4CbY,KAAMA,EACNiB,SAAU,SAACzC,GAAD,OAAOyB,EAAQzB,IACzB0C,WAAY,SAAC1C,GAAD,OAAO2B,EAAiB3B,MAEtC,eAACe,GAAD,WACE,cAAC,GAAD,CAAQhD,QA/CQ,WACFmD,EAAdU,GACWX,IA6CX,qBACA,cAAC,GAAD,CAAQlD,QAASoD,EAAjB,2B,SC1FFwB,GAAe3F,IAAO4D,IAAV,wFAMZ9B,GAAS9B,IAAOG,OAAV,mMAYNyF,GAAiB5F,IAAOC,IAAV,4MAWd4F,GAAU7F,IAAOC,IAAV,iMAUP6F,GAAa9F,IAAOC,IAAV,wPAeV8F,GAAKzG,EAAS0G,WAoELC,GAlEI,SAAC,GAAsB,IAApBC,EAAmB,EAAnBA,aAAmB,EACD1F,oBAAS,GADR,mBAChC2F,EADgC,KACnBC,EADmB,OAEb5F,mBAAS,MAFI,mBAEhCyD,EAFgC,KAEzBoC,EAFyB,OAGH7F,oBAAS,GAHN,mBAGhC8F,EAHgC,KAGpBC,EAHoB,OAIf/F,mBAAS,MAJM,mBAIhCgG,EAJgC,KAI1BC,EAJ0B,KAK1BC,EAAWC,qBAAWlF,GAA3BmF,IAoCR,OACE,sBAAKC,UAAU,cAAf,UACE,cAAC,GAAD,CAAQ7E,OArCO,SAACwE,GAClBH,EAASG,EAAKzD,OACd0D,EAAQD,GACRJ,GAAe,MAmCb,cAACN,GAAD,CAAY/E,QAASmF,EAArB,kBACCC,GACC,eAACP,GAAD,WACE,cAACD,GAAD,CAAc9B,IAAKI,EAAOd,OAAQqD,EAAKrD,OAAQG,MAAOkD,EAAKlD,QAC3D,eAACuC,GAAD,WACE,cAAC,GAAD,CAAQ9E,QAtCG,WACnBqF,GAAe,IAqCP,oBACA,cAAC,GAAD,CAAQrF,QA/BO,WACvBwF,GAAc,GACdH,GAAe,GACfC,EAASG,EAAKzD,QA4BN,kBACA,cAAC,GAAD,CAAQhC,QAvBM,WACtB,IAAM+F,EAAWC,eACXC,EAAM,iBAAaN,EAAb,YAAuBI,GAC7BG,EAAYlB,GAAGjD,IAAIkE,GACnBE,EAAY,CAChBC,KAAM,uBACNlD,MAAOA,EACP2C,IAAKE,GAEPG,EAAUG,IAAIF,GAAW,WACvBhB,QAaM,2BAILI,GACC,cAAC,GAAD,CACErC,MAAOA,EACPC,UA5CgB,SAACU,GACvByB,EAASzB,GACT2B,GAAc,GACdH,GAAe,IA0CTjC,SAnCmB,WACzBoC,GAAc,GACdH,GAAe,U,SCnFbiB,GAAiBrH,IAAOC,IAAV,+HAOdqH,GAAWtH,IAAOuH,EAAV,iNAURC,GAAOxH,IAAOC,IAAV,0NAUEqH,IAING,GAAYzH,IAAO4D,IAAV,uIAOT8D,GAAM1H,IAAO2H,IAAV,qKASHC,GAAS5H,IAAO6H,OAAV,4gBA0BN9B,GAAKzG,EAAS0G,WAgEL8B,GA9DG,WAAO,IAAD,EACiBtH,oBAAS,GAD1B,mBACfuH,EADe,KACDC,EADC,OAEkBxH,mBAAS,MAF3B,mBAEfyH,EAFe,KAEDC,EAFC,OAGY1H,mBAAS,IAHrB,mBAGf0G,EAHe,KAGJiB,EAHI,OAIY3H,oBAAS,GAJrB,mBAIf4H,EAJe,KAIJC,EAJI,KAKdzB,EAAQD,qBAAWlF,GAAnBmF,IAuBR,OAdAlG,qBAAU,YACS,uCAAG,kCAAAW,EAAA,6DACZ4F,EAAYlB,GAAGjD,IAAH,iBAAiB8D,IADjB,SAECK,EAAUqB,KAAK,SAFhB,QAEZ9B,EAFY,QAGT+B,WAEDC,EAAMhC,EAAKgC,MACXC,EAASC,OAAOD,OAAOD,GAC7BL,EAAaM,IAEfJ,GAAa,GATK,2CAAH,qDAWjBM,KACC,CAAC/B,IAEF,eAACS,GAAD,WACGe,GACC,cAACV,GAAD,CAAKkB,QAAQ,YAAYC,MAAM,6BAA/B,SACE,cAACjB,GAAD,CACEkB,KAAK,OACLC,YAAY,IACZC,cAAc,QACdC,GAAG,KACHC,GAAG,KACHC,EAAE,SAIPjC,IACEkB,GACDlB,EAAUkC,KAAI,SAACC,GAAD,OACZ,eAAC7B,GAAD,CAAMzG,QAAS,kBAvCKyF,EAuCoB6C,EAtC9CrB,GAAgBD,QAChBG,EAAgB1B,GAFS,IAACA,GAuCpB,UACE,cAACiB,GAAD,CAAW5D,IAAKwF,GAAKA,EAAEpF,QACvB,cAACqD,GAAD,UAAW+B,GAAKA,EAAElC,aAGvBY,GAAgBE,GACf,cAAC,KAAD,CACEqB,MAAOrB,EAAahE,MACpBsF,OAAQtB,EAAahE,MACrBuF,cAAc,EACdC,IAAKxB,EAAad,KAClBuC,QA9Ca,WACnB1B,GAAgBD,UCrFd4B,GAAU3J,IAAOC,IAAV,0BACP2J,GAAkB5J,IAAOC,IAAV,uMAUf4J,GAAkB7J,IAAOC,IAAV,0TAcf6J,GAAW9J,IAAO+J,GAAV,+CAGRC,GAAahK,IAAOC,IAAV,sEAIV6B,GAAS9B,IAAOG,OAAV,2LAWN8J,GAAOjK,IAAOC,IAAV,wJAQJiK,GAAWlK,IAAOC,IAAV,qOAYRkK,GAAcnK,IAAOC,IAAV,kSAeXmK,GAAepK,IAAO4D,IAAV,oKAUZyG,GAAkBrK,IAAOC,IAAV,gEAIfqK,GAActK,IAAOK,MAAV,oPAuDFkK,GAzCE,SAAC,GAAsB,IAApBC,EAAmB,EAAnBA,aACZ3J,EAAO8F,qBAAWlF,GADa,EAEDjB,oBAAS,GAFR,mBAE9BiK,EAF8B,KAElBC,EAFkB,KAKrC,OACE,cAACf,GAAD,UACIc,EA0BA,cAAC,GAAD,CAAYvE,aA7BO,kBAAMwE,GAAeD,MAIxC,eAACb,GAAD,WACE,eAACC,GAAD,WACE,cAACC,GAAD,0BACA,eAACG,GAAD,WACE,cAACC,GAAD,qBACA,cAACA,GAAD,sBACA,cAACA,GAAD,mBACA,cAACA,GAAD,wBACA,cAACA,GAAD,sBACA,cAACA,GAAD,sBACA,cAACA,GAAD,sBAEF,eAACF,GAAD,WACE,cAACI,GAAD,CAAcvG,IAAKhD,GAAQA,EAAK8J,WAChC,cAAC,GAAD,CAAQ5J,QAASyJ,EAAjB,0BAGJ,eAACH,GAAD,WACE,cAACC,GAAD,CAAaxJ,YAAY,oDACzB,cAAC,GAAD,wBAEF,cAAC,GAAD,IACA,cAACqJ,GAAD,CAAapJ,QA3BK,kBAAM2J,GAAeD,IA2BvC,qBCzIJG,GAAa5K,IAAOC,IAAV,0BAwBD4K,GAvBH,WAAO,IAAD,EACQrK,mBAAS,MADjB,mBACTK,EADS,KACHJ,EADG,KAahB,OACE,cAAC,EAAaqK,SAAd,CAAuBC,MAAOlK,EAA9B,SACE,eAAC+J,GAAD,YACI/J,GAAQ,cAAC,EAAD,CAAWN,UAdA,SAACM,GAC1BJ,EAAQI,MAcHA,GAAQ,cAAC,GAAD,CAAU2J,aAZJ,WACnBlL,EACGqB,OACAqK,UACA5J,MAAK,WACJX,EAAQ,kBCZhBwK,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,GAAD,MAEFlI,SAASmI,eAAe,W","file":"static/js/main.c368192a.chunk.js","sourcesContent":["import firebase from \"firebase\";\r\nconst config = {\r\n  apiKey: \"AIzaSyC95t8HGI8UDW7cIZWBCf3R7Lkmu8c4QRQ\",\r\n  authDomain: \"card-view-bf018.firebaseapp.com\",\r\n  databaseURL: \"https://card-view-bf018.firebaseio.com\",\r\n  projectId: \"card-view-bf018\",\r\n  storageBucket: \"card-view-bf018.appspot.com\",\r\n  messagingSenderId: \"1098575629353\",\r\n  appId: \"1:1098575629353:web:9f8b06c45ab3055b3aa038\",\r\n};\r\nfirebase.initializeApp(config);\r\nexport default firebase;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport firebase from \"../firebase\";\r\nimport PropTypes from \"prop-types\";\r\nimport \"firebase/auth\";\r\nconst LoginViewWrapper = styled.div`\r\n  height: 100vh;\r\n  width: 100vw;\r\n  background: #eee;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\nconst LoginButton = styled.button`\r\n  height: 35px;\r\n  width: 200px;\r\n  background: #1ecbe1;\r\n  color: #fff;\r\n  cursor: pointer;\r\n  border: none;\r\n  margin-bottom: 5px;\r\n  border-radius: 20px;\r\n  &:hover {\r\n    box-shadow: 0 5px 10px rgba(154, 160, 185, 0.05),\r\n      0 15px 40px rgba(166, 173, 201, 0.2);\r\n  }\r\n`;\r\nconst Input = styled.input`\r\n  height: 35px;\r\n  width: 30vw;\r\n  min-width: 200px;\r\n  background: #fff;\r\n  border-radius: 20px;\r\n  border: none;\r\n  padding: 15px;\r\n  margin: 0 0 10px 0;\r\n  &:focus {\r\n    outline: none;\r\n  }\r\n`;\r\nconst LoginView = ({ onSuccess }) => {\r\n  const [user, setUser] = useState(null);\r\n  const handleLoginWithGoogle = () => {\r\n    firebase\r\n      .auth()\r\n      .setPersistence(firebase.auth.Auth.Persistence.LOCAL)\r\n      .then(async () => {\r\n        const provider = new firebase.auth.GoogleAuthProvider();\r\n        const { user } = await firebase.auth().signInWithPopup(provider);\r\n        setUser(user);\r\n      });\r\n  };\r\n  useEffect(() => {\r\n    firebase.auth().onAuthStateChanged((user) => {\r\n      if (user) {\r\n        // login success\r\n        onSuccess(user);\r\n      } else {\r\n        // logout\r\n        onSuccess(null);\r\n      }\r\n    });\r\n  }, [onSuccess]);\r\n  return (\r\n    <LoginViewWrapper>\r\n      <Input placeholder=\"Enter your username\" />\r\n      <Input placeholder=\"Enter your password\" />\r\n      <LoginButton>Login</LoginButton>\r\n      <LoginButton onClick={handleLoginWithGoogle}>\r\n        Login With Google\r\n      </LoginButton>\r\n    </LoginViewWrapper>\r\n  );\r\n};\r\nLoginView.propTypes = {\r\n  onSuccess: PropTypes.func.isRequired,\r\n};\r\nexport default LoginView;\r\n","import { createContext } from \"react\";\r\nconst LoginContext = createContext(null);\r\nexport default LoginContext;","import React, { useState, useRef, useEffect } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport styled from \"styled-components\";\r\nconst CameraWrapper = styled.div`\r\n  height: 100vh;\r\n  width: 100vw;\r\n`;\r\nconst Video = styled.video`\r\n  postition: absolute;\r\n  height: 100vh;\r\n  width: 100vw;\r\n  left: 0;\r\n  top: 0;\r\n  object-fit: fill;\r\n  pointer-events: none;\r\n`;\r\nconst Button = styled.button`\r\n  height: 50px;\r\n  width: 50px;\r\n  border-radius: 50%;\r\n  background: #fff;\r\n  position: absolute;\r\n  bottom: 20px;\r\n  left: 50%;\r\n  transform: translateX(-50%);\r\n  cursor: pointer;\r\n  border: none;\r\n  &:focus {\r\n    outline: none;\r\n  }\r\n  &:hover {\r\n    border: 5px solid gray;\r\n    opacity: 0.8;\r\n  }\r\n`;\r\nconst Camera = ({ onSnap }) => {\r\n  const video = useRef(null);\r\n  const getImage = (video) => {\r\n    const c = document.createElement(\"canvas\");\r\n    c.height = window.innerHeight;\r\n    c.width = window.innerWidth;\r\n    const ctx = c.getContext(\"2d\");\r\n    ctx.drawImage(video, 0, 0, c.width, c.height);\r\n    return c.toDataURL();\r\n  };\r\n  useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        const facingMode =\r\n          (await (await navigator.mediaDevices.enumerateDevices()).length) <= 1\r\n            ? \"user\"\r\n            : \"environment\";\r\n        const stream = await navigator.mediaDevices.getUserMedia({\r\n          video: {\r\n            facingMode,\r\n            aspectRatio: 20 / 9,\r\n          },\r\n        });\r\n        video.current.srcObject = stream;\r\n      } catch (error) {\r\n        //..\r\n      }\r\n    })();\r\n  }, []);\r\n  const snap = () => {\r\n    const photo = getImage(video.current);\r\n    const img = document.createElement(\"img\");\r\n    img.src = photo;\r\n    onSnap && onSnap({ height: img.height, width: img.width, photo });\r\n  };\r\n  return (\r\n    <CameraWrapper>\r\n      <Video playsInline autoPlay ref={video} />\r\n      <Button onClick={snap} />\r\n    </CameraWrapper>\r\n  );\r\n};\r\nCamera.propTypes = {\r\n  onSnap: PropTypes.func,\r\n};\r\nexport default Camera;\r\n","import React, { useEffect, useRef, useState } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport ReactCrop from \"react-image-crop\";\r\nimport styled from \"styled-components\";\r\nimport \"react-image-crop/dist/ReactCrop.css\";\r\nconst EditorWrapper = styled.div`\r\n  height: 100vh;\r\n  width: 100vw;\r\n  position: absolute;\r\n  top: 0;\r\n  z-index: 20;\r\n`;\r\nconst Button = styled.button`\r\n  background: #fff;\r\n  border: none;\r\n  border-radius: 5px;\r\n  cursor: pointer;\r\n  padding: 8px 10px;\r\n  opacity: 0.9;\r\n  margin-right: 5px;\r\n  &:hover {\r\n    opacity: 1;\r\n  }\r\n`;\r\nconst EditorControl = styled.div`\r\n  height: auto;\r\n  width: 100%;\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  align-items: center;\r\n  position: absolute;\r\n  top: 0;\r\n  padding: 20px;\r\n  user-select: none;\r\n`;\r\nconst Editor = ({ image, onProceed, onCancel }) => {\r\n  const imgRef = useRef(null);\r\n  const [crop, setCrop] = useState({\r\n    x: 35,\r\n    y: 35,\r\n    unit: \"%\",\r\n    width: 30,\r\n    height: 30,\r\n  });\r\n  const [completedCrop, setCompletedCrop] = useState(null);\r\n  const [croppedImage, setCroppedImage] = useState(null);\r\n  const handleImageLoad = (img) => {\r\n    imgRef.current = img;\r\n  };\r\n  const handleProceed = () => {\r\n    if (croppedImage) onProceed(croppedImage);\r\n    else onProceed(image);\r\n  };\r\n  useEffect(() => {\r\n    if (!completedCrop || !imgRef.current) {\r\n      return;\r\n    }\r\n    const canvas = document.createElement(\"canvas\");\r\n    const image = imgRef.current;\r\n    const crop = completedCrop;\r\n\r\n    const scaleX = image.naturalWidth / image.width;\r\n    const scaleY = image.naturalHeight / image.height;\r\n    const ctx = canvas.getContext(\"2d\");\r\n    const pixelRatio = window.devicePixelRatio;\r\n\r\n    canvas.width = crop.width * pixelRatio;\r\n    canvas.height = crop.height * pixelRatio;\r\n\r\n    ctx.setTransform(pixelRatio, 0, 0, pixelRatio, 0, 0);\r\n    ctx.imageSmoothingQuality = \"high\";\r\n\r\n    ctx.drawImage(\r\n      image,\r\n      crop.x * scaleX,\r\n      crop.y * scaleY,\r\n      crop.width * scaleX,\r\n      crop.height * scaleY,\r\n      0,\r\n      0,\r\n      crop.width,\r\n      crop.height\r\n    );\r\n    const croppedImage = canvas.toDataURL();\r\n    setCroppedImage(croppedImage);\r\n  }, [completedCrop]);\r\n  return (\r\n    <EditorWrapper>\r\n      <ReactCrop\r\n        src={image}\r\n        onImageLoaded={handleImageLoad}\r\n        crop={crop}\r\n        onChange={(c) => setCrop(c)}\r\n        onComplete={(c) => setCompletedCrop(c)}\r\n      />\r\n      <EditorControl>\r\n        <Button onClick={handleProceed}>Proceed</Button>\r\n        <Button onClick={onCancel}>Cancel</Button>\r\n      </EditorControl>\r\n    </EditorWrapper>\r\n  );\r\n};\r\nEditor.propTypes = {\r\n  image: PropTypes.string,\r\n  onProceed: PropTypes.func,\r\n  onCancel: PropTypes.func\r\n};\r\nexport default Editor;\r\n","import Camera from \"../components/Camera\";\r\nimport Editor from \"../components/Editor\";\r\nimport styled from \"styled-components\";\r\nimport { useContext, useState } from \"react\";\r\nimport { v4 as uuiv4 } from \"uuid\";\r\nimport firebase from \"../firebase\";\r\nimport LoginContext from \"../context\";\r\nconst PreviewImage = styled.img`\r\n  height: auto;\r\n  width: auto;\r\n  top: 0;\r\n  z-index: 10;\r\n`;\r\nconst Button = styled.button`\r\n  height: 30px;\r\n  width: 80px;\r\n  border-radius: 5px;\r\n  background: #000;\r\n  color: #fff;\r\n  border: none;\r\n  cursor: pointer;\r\n  &:hover {\r\n    opacity: 0.8;\r\n  }\r\n`;\r\nconst PreviewWrapper = styled.div`\r\n  height: 100vh;\r\n  width: 100vw;\r\n  position: absolute;\r\n  top: 0;\r\n  z-index: 15;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  background: #fff;\r\n`;\r\nconst Control = styled.div`\r\n  position: absolute;\r\n  bottom: 0;\r\n  padding: 25px 0;\r\n  width: 100%;\r\n  display: flex;\r\n  justify-content: space-around;\r\n  align-items: center;\r\n  z-index: 20;\r\n`;\r\nconst HideCamera = styled.div`\r\n  height: 50px;\r\n  width: 50px;\r\n  position: absolute;\r\n  top: 20px;\r\n  right: 20px;\r\n  background: #fff;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  border-radius: 50%;\r\n  cursor: pointer;\r\n`;\r\n\r\n////////////////// Firebase Refs /////////////////////\r\nconst db = firebase.database();\r\n\r\nconst CameraView = ({ onCameraHide }) => {\r\n  const [showPreview, setShowPreview] = useState(false);\r\n  const [image, setImage] = useState(null);\r\n  const [showEditor, setShowEditor] = useState(false);\r\n  const [data, setData] = useState(null);\r\n  const { uid: userId } = useContext(LoginContext);\r\n  const handleSnap = (data) => {\r\n    setImage(data.photo);\r\n    setData(data);\r\n    setShowPreview(true);\r\n  };\r\n  const handleRetake = () => {\r\n    setShowPreview(false);\r\n  };\r\n  const handleOnProceed = (croppedImage) => {\r\n    setImage(croppedImage);\r\n    setShowEditor(false);\r\n    setShowPreview(true);\r\n  };\r\n  const handleShowEditor = () => {\r\n    setShowEditor(true);\r\n    setShowPreview(false);\r\n    setImage(data.photo);\r\n  };\r\n  const handleEditorCancel = () => {\r\n    setShowEditor(false);\r\n    setShowPreview(true);\r\n  };\r\n  const handleImageSave = () => {\r\n    const imageUid = uuiv4();\r\n    const imgUrl = `images/${userId}/${imageUid}`;\r\n    const imagesRef = db.ref(imgUrl);\r\n    const imageData = {\r\n      name: \"Test name for image.\",\r\n      image: image,\r\n      uid: imageUid,\r\n    };\r\n    imagesRef.set(imageData, () => {\r\n      onCameraHide();\r\n    });\r\n  };\r\n  return (\r\n    <div className=\"camera-view\">\r\n      <Camera onSnap={handleSnap} />\r\n      <HideCamera onClick={onCameraHide}>Hide</HideCamera>\r\n      {showPreview && (\r\n        <PreviewWrapper>\r\n          <PreviewImage src={image} height={data.height} width={data.width} />\r\n          <Control>\r\n            <Button onClick={handleRetake}>Retake</Button>\r\n            <Button onClick={handleShowEditor}>Edit</Button>\r\n            <Button onClick={handleImageSave}>Proceed</Button>\r\n          </Control>\r\n        </PreviewWrapper>\r\n      )}\r\n      {showEditor && (\r\n        <Editor\r\n          image={image}\r\n          onProceed={handleOnProceed}\r\n          onCancel={handleEditorCancel}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CameraView;\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { images } from \"../data/images\";\r\nimport { Lightbox } from \"react-modal-image\";\r\nimport firebase from \"../firebase\";\r\nimport LoginContext from \"../context\";\r\nconst NotesContainer = styled.div`\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  padding-top: 15px;\r\n  height: auto;\r\n  user-select: none;\r\n`;\r\nconst NoteName = styled.p`\r\n  color: #fff;\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n  opacity: 0;\r\n  font-family: \"Montserrat\", sans-serif;\r\n  font-weight: 600;\r\n`;\r\nconst Note = styled.div`\r\n  height: 200px;\r\n  flex-grow: 1;\r\n  margin: 2px;\r\n  background: #fff;\r\n  cursor: pointer;\r\n  position: relative;\r\n  &:hover {\r\n    opacity: 0.8;\r\n  }\r\n  &:hover ${NoteName} {\r\n    opacity: 1;\r\n  }\r\n`;\r\nconst NoteImage = styled.img`\r\n  height: 200px;\r\n  object-fit: cover;\r\n  max-width: 100%;\r\n  min-width: 100%;\r\n  vertical-align: bottom;\r\n`;\r\nconst Svg = styled.svg`\r\n  height: 45px;\r\n  width: 45px;\r\n  stroke: blue;\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n`;\r\nconst Circle = styled.circle`\r\n  stroke-dasharray: 180;\r\n  stroke-dashoffset: 0;\r\n  -webkit-transform-origin: center;\r\n  -ms-transform-origin: center;\r\n  transform-origin: center;\r\n  @keyframes turn {\r\n    0% {\r\n      stroke-dashoffset: 180;\r\n    }\r\n\r\n    50% {\r\n      stroke-dashoffset: 45;\r\n      transform: rotate(135deg);\r\n    }\r\n\r\n    100% {\r\n      stroke-dashoffset: 180;\r\n      transform: rotate(360deg);\r\n    }\r\n  }\r\n  -webkit-animation: turn 1.35s ease-in-out infinite;\r\n  animation: turn 1.35s ease-in-out infinite;\r\n`;\r\n\r\n////////////////// Firebase Refs /////////////////////\r\nconst db = firebase.database();\r\n\r\nconst NotesView = () => {\r\n  const [showLightbox, setShowLighbox] = useState(false);\r\n  const [lightboxData, setLightboxData] = useState(null);\r\n  const [imageData, setImageData] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const { uid } = useContext(LoginContext);\r\n  const handleShowLightbox = (data) => {\r\n    setShowLighbox(!showLightbox);\r\n    setLightboxData(data);\r\n  };\r\n  const hideLightBox = () => {\r\n    setShowLighbox(!showLightbox);\r\n  };\r\n  // fetch images from firebase database\r\n  useEffect(() => {\r\n    const fetchImages = async () => {\r\n      const imagesRef = db.ref(`images/${uid}`);\r\n      const data = await imagesRef.once(\"value\");\r\n      if (data.exists()) {\r\n        // if data exists in database\r\n        const val = data.val();\r\n        const values = Object.values(val);\r\n        setImageData(values);\r\n      }\r\n      setIsLoading(false);\r\n    };\r\n    fetchImages();\r\n  }, [uid]);\r\n  return (\r\n    <NotesContainer>\r\n      {isLoading && (\r\n        <Svg viewBox=\"0 0 66 66\" xmlns=\"http://www.w3.org/2000/svg\">\r\n          <Circle\r\n            fill=\"none\"\r\n            strokeWidth=\"6\"\r\n            strokeLinecap=\"round\"\r\n            cx=\"33\"\r\n            cy=\"33\"\r\n            r=\"25\"\r\n          ></Circle>\r\n        </Svg>\r\n      )}\r\n      {imageData &&\r\n        !isLoading &&\r\n        imageData.map((d) => (\r\n          <Note onClick={() => handleShowLightbox(d)}>\r\n            <NoteImage src={d && d.image} />\r\n            <NoteName>{d && d.name}</NoteName>\r\n          </Note>\r\n        ))}\r\n      {showLightbox && lightboxData && (\r\n        <Lightbox\r\n          large={lightboxData.image}\r\n          medium={lightboxData.image}\r\n          hideDownload={true}\r\n          alt={lightboxData.name}\r\n          onClose={hideLightBox}\r\n        />\r\n      )}\r\n    </NotesContainer>\r\n  );\r\n};\r\nexport default NotesView;\r\n","import React, { useContext, useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport LoginContext from \"../context\";\r\nimport CameraView from \"./CameraView\";\r\nimport NotesView from \"./NotesView\";\r\nimport PropTypes from \"prop-types\";\r\nimport \"firebase/auth\";\r\nconst Wrapper = styled.div``;\r\nconst ShowcaseWrapper = styled.div`\r\n  height: 100vh;\r\n  width: 100%;\r\n  background: #eee;\r\n  overflow-y: scroll;\r\n  &::-webkit-scrollbar {\r\n    display: none;\r\n  }\r\n  font-family: \"Montserrat\", sans-serif;\r\n`;\r\nconst HeaderContainer = styled.div`\r\n  display: flex;\r\n  width: 100%;\r\n  padding: 15px;\r\n  align-items: center;\r\n  background: #fff;\r\n  box-shadow: 0 1px 1.5px rgba(0, 0, 0, 0.1);\r\n  user-select: none;\r\n  position: fixed;\r\n  z-index: 50;\r\n  @media screen and (max-width: 720px) {\r\n    justify-content: space-between;\r\n  }\r\n`;\r\nconst SiteName = styled.h3`\r\n  color: #1ecbe1;\r\n`;\r\nconst HeaderMeta = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n`;\r\nconst Button = styled.button`\r\n  border: none;\r\n  color: #fff;\r\n  background: #1ecbe1;\r\n  padding: 8px 15px;\r\n  border-radius: 5px;\r\n  cursor: pointer;\r\n  &:hover {\r\n    opacity: 0.7;\r\n  }\r\n`;\r\nconst Menu = styled.div`\r\n  flex: 1 1 auto;\r\n  display: flex;\r\n  padding: 0 15px;\r\n  @media screen and (max-width: 720px) {\r\n    display: none;\r\n  }\r\n`;\r\nconst MenuItem = styled.div`\r\n  margin: 0 10px;\r\n  color: #6e6d7a;\r\n  transition: 0.3s;\r\n  cursor: pointer;\r\n  &:hover {\r\n    color: #1ecbe1;\r\n  }\r\n  font-family: \"Montserrat\", sans-serif;\r\n  font-weight: 600;\r\n  font-size: 15px;\r\n`;\r\nconst TakePicture = styled.div`\r\n  height: 50px;\r\n  width: 50px;\r\n  position: absolute;\r\n  bottom: 20px;\r\n  right: 20px;\r\n  background: #1ecbe1;\r\n  color: #fff;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  border-radius: 50%;\r\n  font-size: 20px;\r\n  cursor: pointer;\r\n`;\r\nconst CircledImage = styled.img`\r\n  height: 35px;\r\n  width: 35px;\r\n  border-radius: 50%;\r\n  cursor: pointer;\r\n  margin-right: 10px;\r\n  &:hover {\r\n    opacity: 0.7;\r\n  }\r\n`;\r\nconst SearchContainer = styled.div`\r\n  display: flex;\r\n  padding: 10px;\r\n`;\r\nconst SearchInput = styled.input`\r\n  height: 35px;\r\n  background: #fff;\r\n  flex: 1;\r\n  border: none;\r\n  padding: 10px;\r\n  margin-right: 10px;\r\n  border-radius: 5px;\r\n  box-shadow: 0 1px 1.5px rgba(0, 0, 0, 0.1);\r\n  &:focus {\r\n    outline: none;\r\n  }\r\n`;\r\n\r\nconst Showcase = ({ onUserLogOut }) => {\r\n  const user = useContext(LoginContext);\r\n  const [showCamera, setShowCamera] = useState(false);\r\n  const handleTakePicture = () => setShowCamera(!showCamera);\r\n  const handleHideCamera = () => setShowCamera(!showCamera);\r\n  return (\r\n    <Wrapper>\r\n      {!showCamera ? (\r\n        <ShowcaseWrapper>\r\n          <HeaderContainer>\r\n            <SiteName>Note Keeper</SiteName>\r\n            <Menu>\r\n              <MenuItem>Bangla</MenuItem>\r\n              <MenuItem>English</MenuItem>\r\n              <MenuItem>Math</MenuItem>\r\n              <MenuItem>Chemistry</MenuItem>\r\n              <MenuItem>Biology</MenuItem>\r\n              <MenuItem>Physics</MenuItem>\r\n              <MenuItem>I&Ct</MenuItem>\r\n            </Menu>\r\n            <HeaderMeta>\r\n              <CircledImage src={user && user.photoURL} />\r\n              <Button onClick={onUserLogOut}>Logout</Button>\r\n            </HeaderMeta>\r\n          </HeaderContainer>\r\n          <SearchContainer>\r\n            <SearchInput placeholder=\"Enter keyword i.e. integration, straight line..\" />\r\n            <Button>Search</Button>\r\n          </SearchContainer>\r\n          <NotesView />\r\n          <TakePicture onClick={handleTakePicture}>+</TakePicture>\r\n        </ShowcaseWrapper>\r\n      ) : (\r\n        <CameraView onCameraHide={handleHideCamera} />\r\n      )}\r\n    </Wrapper>\r\n  );\r\n};\r\nShowcase.propTypes = {\r\n  onUserLogOut: PropTypes.func.isRequired,\r\n};\r\nexport default Showcase;\r\n","import { useState } from \"react\";\nimport LoginView from \"./components/LoginView\";\nimport Showcase from \"./components/Showcase\";\nimport LoginContext from \"./context\";\nimport styled from \"styled-components\";\nimport firebase from \"./firebase\";\nconst AppWrapper = styled.div``;\nconst App = () => {\n  const [user, setUser] = useState(null);\n  const handleLoginSuccess = (user) => {\n    setUser(user);\n  };\n  const handleLogOut = () => {\n    firebase\n      .auth()\n      .signOut()\n      .then(() => {\n        setUser(null);\n      });\n  };\n  return (\n    <LoginContext.Provider value={user}>\n      <AppWrapper>\n        {!user && <LoginView onSuccess={handleLoginSuccess} />}\n        {user && <Showcase onUserLogOut={handleLogOut} />}\n      </AppWrapper>\n    </LoginContext.Provider>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}