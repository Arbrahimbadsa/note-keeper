(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{20:function(e,n,t){},26:function(e,n,t){"use strict";t.r(n);var i,c,a,r,o,s,d,u,h,b,j=t(0),l=t.n(j),p=t(10),O=t.n(p),f=(t(20),t(4)),x=t(2),g=t(7),v=t.n(g),w=t(11),m=t(3),y=t(1),k=m.a.div(i||(i=Object(x.a)(["\n  height: 100vh;\n  width: 100vw;\n"]))),S=m.a.video(c||(c=Object(x.a)(["\n  postition: absolute;\n  height: 100vh;\n  width: 100vw;\n  left: 0;\n  top: 0;\n  object-fit: fill;\n  pointer-events: none;\n"]))),C=m.a.button(a||(a=Object(x.a)(["\n  height: 50px;\n  width: 50px;\n  border-radius: 50%;\n  background: #fff;\n  position: absolute;\n  bottom: 20px;\n  left: 50%;\n  transform: translateX(-50%);\n  cursor: pointer;\n  border: none;\n  &:focus {\n    outline: none;\n  }\n  &:hover {\n    border: 5px solid gray;\n    opacity: 0.8;\n  }\n"]))),R=function(e){var n=e.onSnap,t=Object(j.useRef)(null),i=Object(j.useState)(null),c=Object(f.a)(i,2),a=(c[0],c[1]),r=Object(j.useState)(!1),o=Object(f.a)(r,2);o[0],o[1];Object(j.useEffect)((function(){Object(w.a)(v.a.mark((function e(){var n,i;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.mediaDevices.enumerateDevices();case 3:return e.next=5,e.sent.length;case 5:if(e.t0=e.sent,!(e.t0<=1)){e.next=10;break}e.t1="user",e.next=11;break;case 10:e.t1="environment";case 11:return n=e.t1,e.next=14,navigator.mediaDevices.getUserMedia({video:{facingMode:n,aspectRatio:1920/1080}});case 14:i=e.sent,t.current.srcObject=i,e.next=20;break;case 18:e.prev=18,e.t2=e.catch(0);case 20:case"end":return e.stop()}}),e,null,[[0,18]])})))()}),[]);return Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)(k,{children:[Object(y.jsx)(S,{playsInline:!0,autoPlay:!0,ref:t}),Object(y.jsx)(C,{onClick:function(){var e=function(e){var n=document.createElement("canvas");return n.height=window.innerHeight,n.width=window.innerWidth,n.getContext("2d").drawImage(e,0,0,n.width,n.height),n.toDataURL()}(t.current);a(e),n&&n(e)}})]})})},E=t(15),P=t.n(E),D=(t(25),m.a.div(r||(r=Object(x.a)(["\n  height: 100vh;\n  width: 100vw;\n  position: absolute;\n  top: 0;\n  z-index: 20;\n"])))),I=m.a.button(o||(o=Object(x.a)(["\n  background: #fff;\n  border: none;\n  border-radius: 5px;\n  cursor: pointer;\n  padding: 8px 10px;\n  opacity: 0.9;\n  margin-right: 5px;\n  &:hover {\n    opacity: 1;\n  }\n"]))),z=m.a.div(s||(s=Object(x.a)(["\n  height: auto;\n  width: 100%;\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n  position: absolute;\n  top: 0;\n  padding: 20px;\n  user-select: none;\n"]))),L=function(e){var n=e.image,t=e.onProceed,i=Object(j.useRef)(null),c=Object(j.useState)({x:35,y:35,unit:"%",width:30,height:30}),a=Object(f.a)(c,2),r=a[0],o=a[1],s=Object(j.useState)(null),d=Object(f.a)(s,2),u=d[0],h=d[1],b=Object(j.useState)(null),l=Object(f.a)(b,2),p=l[0],O=l[1];return Object(j.useEffect)((function(){if(u&&i.current){var e=document.createElement("canvas"),n=i.current,t=u,c=n.naturalWidth/n.width,a=n.naturalHeight/n.height,r=e.getContext("2d"),o=window.devicePixelRatio;e.width=t.width*o,e.height=t.height*o,r.setTransform(o,0,0,o,0,0),r.imageSmoothingQuality="high",r.drawImage(n,t.x*c,t.y*a,t.width*c,t.height*a,0,0,t.width,t.height);var s=e.toDataURL();O(s)}}),[u]),Object(y.jsxs)(D,{children:[Object(y.jsx)(P.a,{src:n,onImageLoaded:function(e){i.current=e},crop:r,onChange:function(e){return o(e)},onComplete:function(e){return h(e)}}),Object(y.jsxs)(z,{children:[Object(y.jsx)(I,{onClick:function(){t(p||n)},children:"Proceed"}),Object(y.jsx)(I,{children:"Cancel"})]})]})},M=m.a.img(d||(d=Object(x.a)(["\n  height: 100vh;\n  width: 100vw;\n  top: 0;\n  z-index: 10;\n"]))),U=m.a.button(u||(u=Object(x.a)(["\n  height: 30px;\n  width: 80px;\n  border-radius: 5px;\n  background: #000;\n  color: #fff;\n  border: none;\n  cursor: pointer;\n  &:hover {\n    opacity: 0.8;\n  }\n"]))),H=m.a.div(h||(h=Object(x.a)(["\n  height: 100vh;\n  width: 100vw;\n  position: absolute;\n  top: 0;\n  z-index: 15;\n"]))),J=m.a.div(b||(b=Object(x.a)(["\n  position: absolute;\n  bottom: 0;\n  padding: 25px 0;\n  width: 100%;\n  display: flex;\n  justify-content: space-around;\n  align-items: center;\n"])));var W=function(){var e=Object(j.useState)(!1),n=Object(f.a)(e,2),t=n[0],i=n[1],c=Object(j.useState)(null),a=Object(f.a)(c,2),r=a[0],o=a[1],s=Object(j.useState)(null),d=Object(f.a)(s,2),u=d[0],h=d[1],b=Object(j.useState)(!1),l=Object(f.a)(b,2),p=l[0],O=l[1];return Object(y.jsxs)("div",{className:"App",children:[Object(y.jsx)(R,{onSnap:function(e){h(e),o(e),i(!0)}}),t&&Object(y.jsxs)(H,{children:[Object(y.jsx)(M,{src:u}),Object(y.jsxs)(J,{children:[Object(y.jsx)(U,{onClick:function(){i(!1)},children:"Retake"}),Object(y.jsx)(U,{onClick:function(){O(!0),i(!1),h(r)},children:"Edit"}),Object(y.jsx)(U,{children:"Proceed"})]})]}),p&&Object(y.jsx)(L,{image:u,onProceed:function(e){h(e),O(!1),i(!0)}})]})};O.a.render(Object(y.jsx)(l.a.StrictMode,{children:Object(y.jsx)(W,{})}),document.getElementById("root"))}},[[26,1,2]]]);
//# sourceMappingURL=main.3b377e57.chunk.js.map